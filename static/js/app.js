(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],u=0,f=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0264":function(t,e,i){},"026a":function(t,e,i){"use strict";var n=i("8c19"),a=i.n(n);a.a},"02e5":function(t,e,i){},"0860":function(t,e,i){"use strict";var n=i("a0d1"),a=i.n(n);a.a},"0a8c":function(t,e,i){"use strict";var n=i("7def"),a=i.n(n);a.a},1:function(t,e){},1652:function(t,e,i){},"1a05":function(t,e,i){},"1bb1":function(t,e,i){"use strict";var n=i("66b0"),a=i.n(n);a.a},"1bca":function(t,e,i){"use strict";var n=i("c154"),a=i.n(n);a.a},"1f96":function(t,e,i){"use strict";var n=i("4a46"),a=i.n(n);a.a},2:function(t,e){},"20a1":function(t,e,i){},"22ca":function(t,e,i){},"26f2":function(t,e,i){"use strict";var n=i("9a5d"),a=i.n(n);a.a},"275f":function(t,e,i){i("c975"),function(t){var e,i='<svg><symbol id="iconsucai" viewBox="0 0 1024 1024"><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512z m0-930.909091a418.909091 418.909091 0 1 0 418.909091 418.909091 418.909091 418.909091 0 0 0-418.909091-418.909091z m162.909091 325.818182A69.818182 69.818182 0 1 1 744.727273 349.090909 69.818182 69.818182 0 0 1 674.909091 418.909091z m3.304727 155.136a145.361455 145.361455 0 0 0-3.351273-30.999273h3.351273a33.326545 33.326545 0 0 1 66.513455 0 28.439273 28.439273 0 0 1-1.908364 8.750546 183.575273 183.575273 0 0 1 1.908364 22.248727 233.285818 233.285818 0 0 1-465.454546 0 183.575273 183.575273 0 0 1 1.908364-22.248727 28.439273 28.439273 0 0 1-1.908364-8.750546 33.326545 33.326545 0 0 1 66.513455 0H349.090909a145.361455 145.361455 0 0 0-3.351273 30.999273 166.632727 166.632727 0 0 0 332.474182 0zM349.090909 418.909091A69.818182 69.818182 0 1 1 418.909091 349.090909 69.818182 69.818182 0 0 1 349.090909 418.909091z"  ></path></symbol><symbol id="iconcursor_huaban" viewBox="0 0 1024 1024"><path d="M910.222222 512H512V113.777778H455.111111v398.222222H56.888889v56.888889h398.222222v398.222222h56.888889v-398.222222h398.222222V512z"  ></path><path d="M540.444444 995.555556h-113.777777v-398.222223h-398.222223v-113.777777h398.222223v-398.222223h113.777777v398.222223h398.222223v113.777777h-398.222223z m-56.888888-56.888889v-398.222223z" fill="#FFFFFF" ></path><path d="M910.222222 512H512V113.777778H455.111111v398.222222H56.888889v56.888889h398.222222v398.222222h56.888889v-398.222222h398.222222V512z"  ></path></symbol><symbol id="iconarrow" viewBox="0 0 1024 1024"><path d="M512 0L393.846154 196.923077h236.307692L512 0zM512 1024l-118.153846-196.923077h236.307692l-118.153846 196.923077z" fill="#050505" ></path></symbol><symbol id="iconxiguan" viewBox="0 0 1024 1024"><path d="M900.551111 71.111111a196.266667 196.266667 0 0 0-277.048889 0L522.808889 170.666667 439.182222 88.177778a28.444444 28.444444 0 0 0-39.822222 0 28.444444 28.444444 0 0 0 0 40.391111l113.777778 113.777778-398.222222 398.222222a149.617778 149.617778 0 0 0-40.391112 129.706667l-17.635555 21.048888A84.764444 84.764444 0 0 0 56.888889 910.222222a84.195556 84.195556 0 0 0 118.897778 0l19.911111-19.911111A146.204444 146.204444 0 0 0 327.111111 853.333333l398.222222-398.222222 105.244445 105.244445a29.013333 29.013333 0 0 0 22.755555 8.533333 27.875556 27.875556 0 0 0 19.911111-8.533333 28.444444 28.444444 0 0 0 0-40.391112L799.857778 449.422222l100.693333-100.693333a196.266667 196.266667 0 0 0 0-277.617778z m-613.262222 739.555556a92.728889 92.728889 0 0 1-92.728889 21.617777l-16.497778-5.688888-43.804444 43.804444a27.306667 27.306667 0 0 1-38.115556 0 26.737778 26.737778 0 0 1 0-38.115556l44.373334-44.373333-4.551112-15.928889A91.022222 91.022222 0 0 1 158.151111 682.666667l398.222222-398.222223L682.666667 414.72z" fill="#000000" ></path></symbol><symbol id="iconmany" viewBox="0 0 1024 1024"><path d="M0 1024h768V256H0zM64 320h640v640H64z" fill="#231815" ></path><path d="M520.96 640a22.4 22.4 0 0 0-16 6.4l-97.92 98.56V480a23.04 23.04 0 0 0-46.08 0v264.96L263.04 646.4a22.4 22.4 0 0 0-16-6.4 23.68 23.68 0 0 0-16.64 6.4 24.32 24.32 0 0 0 0 32.64l137.6 136.96a22.4 22.4 0 0 0 32 0l137.6-136.96a24.32 24.32 0 0 0 0-32.64 23.68 23.68 0 0 0-16.64-6.4zM128 160a32 32 0 0 0 32 32H832v672a32 32 0 0 0 64 0V128H160a32 32 0 0 0-32 32z" fill="#231815" ></path><path d="M288 0a32 32 0 0 0-32 32 32 32 0 0 0 32 32H960v672a32 32 0 0 0 64 0V0z" fill="#231815" ></path></symbol><symbol id="iconone" viewBox="0 0 1024 1024"><path d="M0 1024h960V64H0zM64 128h832v832H64z" fill="#231815" ></path><path d="M672 560a30.08 30.08 0 0 0-22.4 9.6L512 704V336a32 32 0 0 0-64 0V704L310.4 569.6a30.72 30.72 0 0 0-44.8 0 30.72 30.72 0 0 0 0 44.8l192 192a30.72 30.72 0 0 0 44.8 0l192-192a30.72 30.72 0 0 0 0-44.8 30.08 30.08 0 0 0-22.4-9.6z" fill="#231815" ></path></symbol><symbol id="iconrotate" viewBox="0 0 1024 1024"><path d="M768 657.92a296.448 296.448 0 0 1-529.92-35.328l41.472 24.064a29.184 29.184 0 0 0 40.448-10.752 30.208 30.208 0 0 0-10.752-40.448L204.8 535.04a30.208 30.208 0 0 0-14.848-3.584h-4.096a30.72 30.72 0 0 0-22.016 16.384L102.4 651.776a29.696 29.696 0 0 0 51.2 29.696l25.6-44.544a358.4 358.4 0 0 0 288.256 224.768 358.4 358.4 0 0 0 136.192-9.216A352.256 352.256 0 0 0 819.2 687.616a29.696 29.696 0 0 0-51.2-29.696z m102.4-307.2l-23.552 40.96a347.648 347.648 0 0 0-37.376-75.776A354.816 354.816 0 0 0 689.664 204.8a354.304 354.304 0 0 0-270.336-36.352A372.224 372.224 0 0 0 296.96 225.792 358.4 358.4 0 0 0 204.8 331.264a29.696 29.696 0 0 0 51.2 29.696 297.472 297.472 0 0 1 536.576 51.2l-45.056-26.112a29.696 29.696 0 0 0-40.448 10.752 29.696 29.696 0 0 0 10.752 40.448l102.4 60.416a28.672 28.672 0 0 0 22.528 3.072h5.632l4.096-3.072L921.6 381.952a29.696 29.696 0 1 0-51.2-29.696z m0 0"  ></path></symbol><symbol id="iconclosepx1" viewBox="0 0 1024 1024"><path d="M160.170667 100.778667a45.226667 45.226667 0 0 0-4.949334-4.949334l-0.341333-0.341333v0.085333A41.984 41.984 0 0 0 128 85.333333a42.666667 42.666667 0 0 0-42.666667 42.666667c0 10.325333 4.096 19.456 10.24 26.88l-1.024 0.938667 358.656 359.424c-2.304 0.938667-4.010667 2.56-6.058666 3.925333l-2.389334-2.389333-350.549333 348.928 2.133333 2.133333A42.496 42.496 0 0 0 85.333333 896a42.666667 42.666667 0 0 0 42.666667 42.666667 42.154667 42.154667 0 0 0 37.632-23.552l327.424-325.888a42.24 42.24 0 0 0 10.666667-10.666667l1.450666-1.365333-0.341333-0.341334c1.28-2.048 2.901333-3.754667 3.84-5.973333l354.304 355.072 1.621333-1.621333A42.069333 42.069333 0 0 0 896 938.666667a42.666667 42.666667 0 0 0 42.666667-42.666667 41.898667 41.898667 0 0 0-20.394667-35.498667L160.170667 100.778667zM640 426.666667a42.410667 42.410667 0 0 0 37.632-23.552l242.090667-240.554667a43.349333 43.349333 0 0 0 10.666666-10.581333l1.450667-1.450667-0.341333-0.341333A41.045333 41.045333 0 0 0 938.666667 128a42.666667 42.666667 0 0 0-42.666667-42.666667 40.874667 40.874667 0 0 0-22.186667 7.168l-2.304-2.304-265.301333 263.509334 2.218667 2.218666A41.813333 41.813333 0 0 0 597.333333 384a42.666667 42.666667 0 0 0 42.666667 42.666667z"  ></path></symbol><symbol id="iconsave" viewBox="0 0 1024 1024"><path d="M768 179.2H256A128 128 0 0 0 128 307.2v460.8A128 128 0 0 0 256 896h512a128 128 0 0 0 128-128V307.2A128 128 0 0 0 768 179.2z m-102.4 60.416V435.2a25.6 25.6 0 0 1-25.6 25.6h-256a25.6 25.6 0 0 1-25.6-25.6V239.616zM844.8 768a76.8 76.8 0 0 1-76.8 76.8H256A76.8 76.8 0 0 1 179.2 768V307.2A76.8 76.8 0 0 1 256 230.4h51.2v204.8A76.8 76.8 0 0 0 384 512h256A76.8 76.8 0 0 0 716.8 435.2v-204.8h51.2A76.8 76.8 0 0 1 844.8 307.2z" fill="#231815" ></path><path d="M460.8 307.2m26.112 0l50.176 0q26.112 0 26.112 26.112l0 50.176q0 26.112-26.112 26.112l-50.176 0q-26.112 0-26.112-26.112l0-50.176q0-26.112 26.112-26.112Z" fill="#231815" ></path></symbol><symbol id="iconcircular" viewBox="0 0 1024 1024"><path d="M512 1000.727273A488.727273 488.727273 0 1 1 1000.727273 512 489.192727 489.192727 0 0 1 512 1000.727273z m0-884.363637a395.636364 395.636364 0 1 0 395.636364 395.636364A396.101818 396.101818 0 0 0 512 116.363636z" fill="#231815" ></path></symbol><symbol id="iconImport" viewBox="0 0 1024 1024"><path d="M850.432 281.6H368.128v-48.128a51.2 51.2 0 0 0-51.2-54.272h-143.36A125.44 125.44 0 0 0 51.2 307.2v512a125.44 125.44 0 0 0 122.368 128h676.864A125.44 125.44 0 0 0 972.8 819.2V409.6a125.44 125.44 0 0 0-122.368-128zM921.6 819.2a74.24 74.24 0 0 1-71.168 76.8H173.568A74.24 74.24 0 0 1 102.4 819.2V307.2a74.24 74.24 0 0 1 71.168-76.8l143.36 3.072v48.128a51.2 51.2 0 0 0 51.2 51.2h483.328A74.24 74.24 0 0 1 921.6 409.6z" fill="#231815" ></path><path d="M529.92 417.28a24.576 24.576 0 0 0-35.84 0l-153.6 153.6a24.576 24.576 0 0 0 0 35.84 24.576 24.576 0 0 0 35.84 0L486.4 497.152v296.448a25.6 25.6 0 0 0 51.2 0V497.152l110.08 109.568a24.576 24.576 0 0 0 35.84 0 24.576 24.576 0 0 0 0-35.84z" fill="#231815" ></path></symbol><symbol id="iconrectangle" viewBox="0 0 1024 1024"><path d="M884.363636 1000.727273H139.636364a139.636364 139.636364 0 0 1-139.636364-139.636364v-698.181818a139.636364 139.636364 0 0 1 139.636364-139.636364h744.727272a139.636364 139.636364 0 0 1 139.636364 139.636364v698.181818a139.636364 139.636364 0 0 1-139.636364 139.636364zM139.636364 116.363636a46.545455 46.545455 0 0 0-46.545455 46.545455v698.181818a46.545455 46.545455 0 0 0 46.545455 46.545455h744.727272a46.545455 46.545455 0 0 0 46.545455-46.545455v-698.181818a46.545455 46.545455 0 0 0-46.545455-46.545455z" fill="#231815" ></path></symbol><symbol id="iconpreview" viewBox="0 0 1024 1024"><path d="M963.584 453.12C897.536 363.008 721.408 153.6 512 153.6S126.464 363.008 60.416 453.12a102.4 102.4 0 0 0 0 117.76C126.464 660.992 302.592 870.4 512 870.4s385.536-209.408 451.584-299.52a102.4 102.4 0 0 0 0-117.76zM921.6 540.672C860.672 624.128 697.856 819.2 512 819.2s-348.672-195.072-409.6-278.528a51.2 51.2 0 0 1 0-57.344C163.328 399.872 326.144 204.8 512 204.8s348.672 195.072 409.6 278.528a51.2 51.2 0 0 1 0 57.344z" fill="#231815" ></path><path d="M512 307.2a204.8 204.8 0 1 0 204.8 204.8 204.8 204.8 0 0 0-204.8-204.8z m0 358.4a153.6 153.6 0 1 1 153.6-153.6 153.6 153.6 0 0 1-153.6 153.6z" fill="#231815" ></path></symbol><symbol id="iconGraphical" viewBox="0 0 1024 1024"><path d="M884.363636 23.272727H139.636364a139.636364 139.636364 0 0 0-139.636364 139.636364v698.181818a139.636364 139.636364 0 0 0 139.636364 139.636364h744.727272a139.636364 139.636364 0 0 0 139.636364-139.636364v-698.181818a139.636364 139.636364 0 0 0-139.636364-139.636364z m46.545455 837.818182a46.545455 46.545455 0 0 1-46.545455 46.545455h-67.490909l-123.345454-288.116364a52.130909 52.130909 0 0 0-93.090909-5.12l-167.563637 293.236364H139.636364a46.545455 46.545455 0 0 1-46.545455-46.545455v-698.181818a46.545455 46.545455 0 0 1 46.545455-46.545455h744.727272a46.545455 46.545455 0 0 1 46.545455 46.545455z" fill="#231815" ></path><path d="M279.272727 325.818182m-93.090909 0a93.090909 93.090909 0 1 0 186.181818 0 93.090909 93.090909 0 1 0-186.181818 0Z" fill="#231815" ></path></symbol><symbol id="iconvague" viewBox="0 0 1024 1024"><path d="M558.545455 1024h-93.09091a334.196364 334.196364 0 0 1-325.818181-341.178182V535.272727c0-205.730909 308.596364-451.490909 343.970909-478.952727L512 33.978182l28.392727 22.341818C575.767273 83.781818 884.363636 329.541818 884.363636 535.272727v147.549091A334.196364 334.196364 0 0 1 558.545455 1024zM512 153.134545C413.789091 235.054545 232.727273 412.392727 232.727273 535.272727v147.549091A241.105455 241.105455 0 0 0 465.454545 930.909091h93.09091a241.105455 241.105455 0 0 0 232.727272-248.087273V535.272727c0-122.88-181.061818-300.218182-279.272727-382.138182z" fill="#231815" ></path></symbol><symbol id="iconicon-test1" viewBox="0 0 1024 1024"><path d="M224 448h576a32 32 0 0 0 32-19.84 30.08 30.08 0 0 0-7.04-34.56l-192-192a31.36 31.36 0 0 0-44.8 44.8L722.56 384H224a32 32 0 0 0 0 64zM800 640h-576a32 32 0 0 0-29.44 19.84 30.08 30.08 0 0 0 7.04 34.56l192 192a30.72 30.72 0 0 0 44.8 0 30.72 30.72 0 0 0 0-44.8L301.44 704h498.56a32 32 0 0 0 0-64z"  ></path></symbol><symbol id="iconmoren" viewBox="0 0 1024 1024"><path d="M103.408485 0h479.418182l389.430303 333.575758V961.939394a62.060606 62.060606 0 0 1-62.060606 62.060606h-806.787879a62.060606 62.060606 0 0 1-62.060606-62.060606V62.060606a62.060606 62.060606 0 0 1 62.060606-62.060606z" fill="#C7C7C7" ></path><path d="M601.910303 0.512l380.741818 341.891879H601.553455z" fill="#E9E9E9" ></path><path d="M585.69697 559.569455l-62.43297 64.09309a7.090424 7.090424 0 0 1-0.667152 1.008485 8.316121 8.316121 0 0 1-11.279515 0 9.69697 9.69697 0 0 1-0.620606-0.930909l-64.170666-64.170666a7.757576 7.757576 0 0 1 10.984727-10.969213l50.843151 50.858667V416.007758a7.757576 7.757576 0 0 1 15.515152 0v184.800969l50.843151-52.208485a7.757576 7.757576 0 0 1 10.984728 10.969213z" fill="#FFFFFF" ></path><path d="M445.827879 729.212121h141.653333l44.99394 93.090909h-232.727273z" fill="#FFFFFF" ></path></symbol><symbol id="iconsuspend" viewBox="0 0 1024 1024"><path d="M576 192m64 0l0 0q64 0 64 64l0 512q0 64-64 64l0 0q-64 0-64-64l0-512q0-64 64-64Z" fill="#231815" ></path><path d="M256 192m64 0l0 0q64 0 64 64l0 512q0 64-64 64l0 0q-64 0-64-64l0-512q0-64 64-64Z" fill="#231815" ></path></symbol><symbol id="iconplay" viewBox="0 0 1024 1024"><path d="M357.76 197.12a23.04 23.04 0 0 0-37.76 17.28v595.2a23.04 23.04 0 0 0 37.76 17.28l338.56-297.6a23.04 23.04 0 0 0 0-34.56z" fill="#231815" ></path></symbol><symbol id="iconleftplay" viewBox="0 0 1024 1024"><path d="M286.08 192a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32 32 32 0 0 1-32-32v-576a32 32 0 0 1 32-32zM730.24 197.12a23.04 23.04 0 0 1 37.76 17.28v595.2a23.04 23.04 0 0 1-37.76 17.28L391.68 529.28a23.04 23.04 0 0 1 0-34.56z" fill="#231815" ></path></symbol><symbol id="iconrightplay" viewBox="0 0 1024 1024"><path d="M736 192a32 32 0 0 0-32 32v576a32 32 0 0 0 64 0v-576a32 32 0 0 0-32-32zM291.84 197.12a23.04 23.04 0 0 0-35.84 17.28v595.2a23.04 23.04 0 0 0 37.76 17.28l336.64-297.6a23.04 23.04 0 0 0 0-34.56z" fill="#231815" ></path></symbol><symbol id="iconnarrow" viewBox="0 0 1024 1024"><path d="M800 512h-576a32 32 0 0 1 0-64h576a32 32 0 0 1 0 64z" fill="#231815" ></path></symbol><symbol id="iconenlarge" viewBox="0 0 1024 1024"><path d="M800 448h-256V192a32 32 0 0 0-64 0v256h-256a32 32 0 0 0 0 64h256v256a32 32 0 0 0 64 0V512h256a32 32 0 0 0 0-64z" fill="#231815" ></path></symbol><symbol id="icontext" viewBox="0 0 1024 1024"><path d="M56.888889 113.777778v170.666666h56.888889V170.666667h341.333333v739.555555H227.555556v56.888889h568.888888v-56.888889h-227.555555V170.666667h341.333333v113.777777h56.888889V113.777778H56.888889z" fill="#231815" ></path></symbol><symbol id="iconclose" viewBox="0 0 1024 1024"><path d="M587.52 576l300.16-330.24a32 32 0 0 0 0-45.44 32.64 32.64 0 0 0-45.44 0L544 528.64l-296.32-326.4a32.64 32.64 0 0 0-45.44 0 32 32 0 0 0 0 45.44L500.48 576l-300.16 330.24a32 32 0 0 0 23.68 53.76 31.36 31.36 0 0 0 23.68-10.24l296.32-326.4 296.32 326.4a31.36 31.36 0 0 0 23.68 10.24 32 32 0 0 0 23.68-53.76z" fill="#231815" ></path></symbol><symbol id="iconicon-test" viewBox="0 0 1024 1024"><path d="M192 556.16a32 32 0 0 1 0-24.32 23.04 23.04 0 0 1 7.04-10.24l256-256a31.36 31.36 0 0 1 44.8 44.8L301.44 512h498.56a32 32 0 0 1 0 64H301.44l200.96 201.6a30.72 30.72 0 0 1 0 44.8 30.72 30.72 0 0 1-44.8 0l-256-256A23.04 23.04 0 0 1 192 556.16z" fill="#231815" ></path></symbol><symbol id="iconicon-test2" viewBox="0 0 1024 1024"><path d="M832 556.16a32 32 0 0 0 0-24.32 23.04 23.04 0 0 0-7.04-10.24l-256-256a31.36 31.36 0 0 0-44.8 44.8L722.56 512H224a32 32 0 0 0 0 64h498.56l-200.96 201.6a30.72 30.72 0 0 0 0 44.8 30.72 30.72 0 0 0 44.8 0l256-256a23.04 23.04 0 0 0 9.6-10.24z" fill="#231815" ></path></symbol><symbol id="iconretract" viewBox="0 0 1024 1024"><path d="M822.4 329.6a30.72 30.72 0 0 0-44.8 0L480 626.56 182.4 329.6a31.36 31.36 0 0 0-44.8 44.8l320 320a30.72 30.72 0 0 0 44.8 0l320-320a30.72 30.72 0 0 0 0-44.8z" fill="#231815" ></path></symbol><symbol id="iconopen" viewBox="0 0 1024 1024"><path d="M822.4 694.4a30.72 30.72 0 0 1-44.8 0L480 397.44l-297.6 296.96a31.36 31.36 0 0 1-44.8-44.8l320-320a30.72 30.72 0 0 1 44.8 0l320 320a30.72 30.72 0 0 1 0 44.8z" fill="#231815" ></path></symbol><symbol id="icondel" viewBox="0 0 1024 1024"><path d="M409.6 191.146667h204.8a17.066667 17.066667 0 0 0 0-34.133334h-204.8a17.066667 17.066667 0 0 0 0 34.133334zM887.466667 231.765333H136.533333a17.066667 17.066667 0 0 0-17.066666 17.066667 17.066667 17.066667 0 0 0 17.066666 17.066667h109.226667V853.333333a65.194667 65.194667 0 0 0 65.194667 65.194667h414.378666A65.194667 65.194667 0 0 0 790.528 853.333333V265.898667H887.466667a17.408 17.408 0 0 0 17.066666-17.066667 17.066667 17.066667 0 0 0-17.066666-17.066667zM756.394667 853.333333a31.061333 31.061333 0 0 1-31.061334 31.061334H309.589333a31.061333 31.061333 0 0 1-31.061333-31.061334V269.994667h477.866667z" fill="#333333" ></path><path d="M450.218667 697.344a17.408 17.408 0 0 0 17.066666-17.066667v-204.8a17.066667 17.066667 0 0 0-17.066666-17.066666 17.066667 17.066667 0 0 0-17.066667 17.066666v204.8a17.066667 17.066667 0 0 0 17.066667 17.066667zM580.266667 697.344a17.066667 17.066667 0 0 0 17.066666-17.066667v-204.8a17.066667 17.066667 0 0 0-17.066666-17.066666 17.066667 17.066667 0 0 0-17.066667 17.066666v204.8a17.408 17.408 0 0 0 17.066667 17.066667z" fill="#727171" ></path></symbol><symbol id="iconerror" viewBox="0 0 1024 1024"><path d="M512.000169 0a512 512 0 1 0 512 511.948749 512 512 0 0 0-512-511.948749z m0.307508 975.003804a461.978779 461.978779 0 1 1 461.978779-461.978779 461.978779 461.978779 0 0 1-461.978779 461.978779z m194.754755-652.633434a45.101101 45.101101 0 0 0-63.654054 0L514.408978 451.267267 384.999569 321.806607a44.998599 44.998599 0 1 0-63.654054 63.602802l129.819419 128.948149-128.999399 128.896896a44.998599 44.998599 0 0 0 63.602803 63.602803l128.64064-129.306907 128.845646 128.128128a43.768569 43.768569 0 0 0 62.629029 0.973774 44.947347 44.947347 0 0 0 0-63.602803l-128.435636-128.691891 128.58939-129.358159a43.871071 43.871071 0 0 0 1.076276-62.629029z" fill="#333333" ></path></symbol><symbol id="icontips" viewBox="0 0 1024 1024"><path d="M511.927024 0a512 512 0 1 0 512.036551 512A512.036551 512.036551 0 0 0 511.927024 0z m-0.328955 987.449457a475.559109 475.559109 0 1 1 475.559109-475.559109 475.59566 475.59566 0 0 1-475.559109 475.559109z m-0.219303-258.119931a38.195317 38.195317 0 1 0 38.231868 38.195317 38.195317 38.195317 0 0 0-38.231868-38.195317z m1.973729-509.880069a37.0257 37.0257 0 0 0-36.550542 38.633924v363.12964a36.696745 36.696745 0 1 0 73.356939 0V258.083381a36.989149 36.989149 0 0 0-36.806397-38.633924z" fill="#333333" ></path></symbol><symbol id="iconfile" viewBox="0 0 1171 1024"><path d="M494.823091 2.996695h-409.304716A84.857638 84.857638 0 0 0 0.002926 88.365965v847.845482a84.930729 84.930729 0 0 0 85.515449 85.44236h999.872949a84.492188 84.492188 0 0 0 85.51545-85.44236V232.426607a84.419098 84.419098 0 0 0-85.51545-85.36927H614.690901a61.468798 61.468798 0 0 1-34.35236-57.0103v-1.754163A85.95399 85.95399 0 0 0 494.823091 2.923605" fill="#FFE793" ></path><path d="M1083.929522 217.735491a15.933648 15.933648 0 0 1 16.810729 17.10309v699.180163a15.933648 15.933648 0 0 1-16.810729 17.10309H87.711079a15.933648 15.933648 0 0 1-16.810729-17.10309V216.858409c260.931756 0 1013.029172 0.877082 1013.029172 0.877082zM494.823091 0.657811h-409.304716A84.930729 84.930729 0 0 0 0.002926 86.100171v852.450161a84.857638 84.857638 0 0 0 85.515449 85.442359h999.872949a84.419098 84.419098 0 0 0 85.51545-85.442359v-706.050635a84.419098 84.419098 0 0 0-85.51545-85.36927H614.690901a65.123304 65.123304 0 0 1-34.35236-59.349183v-1.681073A85.95399 85.95399 0 0 0 494.823091 0.657811" fill="#ECC849" ></path></symbol><symbol id="iconfile_sel" viewBox="0 0 1171 1024"><path d="M494.823091 2.996695h-409.304716A84.857638 84.857638 0 0 0 0.002926 88.365965v847.845482a84.930729 84.930729 0 0 0 85.515449 85.44236h999.872949a84.492188 84.492188 0 0 0 85.51545-85.44236V232.426607a84.419098 84.419098 0 0 0-85.51545-85.36927H614.690901a61.468798 61.468798 0 0 1-34.35236-57.0103v-1.754163A85.95399 85.95399 0 0 0 494.823091 2.923605" fill="#FFDB5B" ></path><path d="M1083.929522 217.735491a15.933648 15.933648 0 0 1 16.810729 17.10309v699.180163a15.933648 15.933648 0 0 1-16.810729 17.10309H87.711079a15.933648 15.933648 0 0 1-16.810729-17.10309V216.858409c260.931756 0 1013.029172 0.877082 1013.029172 0.877082zM494.823091 0.657811h-409.304716A84.930729 84.930729 0 0 0 0.002926 86.100171v852.450161a84.857638 84.857638 0 0 0 85.515449 85.442359h999.872949a84.419098 84.419098 0 0 0 85.51545-85.442359v-706.050635a84.419098 84.419098 0 0 0-85.51545-85.36927H614.690901a65.123304 65.123304 0 0 1-34.35236-59.349183v-1.681073A85.95399 85.95399 0 0 0 494.823091 0.657811" fill="#FFC804" ></path></symbol><symbol id="iconsuccess" viewBox="0 0 1024 1024"><path d="M512.000128 0.025587A512.025587 512.025587 0 1 0 1024.000128 512 512.025587 512.025587 0 0 0 512.000128 0.025587z m-0.255872 987.512644A475.589405 475.589405 0 1 1 987.154551 512a475.589405 475.589405 0 0 1-475.410295 475.538231z m202.906547-647.049275L441.891182 651.04088l-126.656671-128.652474a33.954223 33.954223 0 0 0-51.174413 44.649675l146.102948 149.096652a43.037681 43.037681 0 0 0 72.667667-9.723139l280.17991-318.023388a34.030985 34.030985 0 0 0-48.35982-47.822489z" fill="#333333" ></path></symbol></svg>',n=(e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss");if(n&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}!function(e){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(e,0);else{var i=function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()};document.addEventListener("DOMContentLoaded",i,!1)}else document.attachEvent&&(a=e,o=t.document,s=!1,(r=function(){try{o.documentElement.doScroll("left")}catch(e){return void setTimeout(r,50)}n()})(),o.onreadystatechange=function(){"complete"==o.readyState&&(o.onreadystatechange=null,n())});function n(){s||(s=!0,a())}var a,o,s,r}((function(){var t,e,n,a,o,s;(t=document.createElement("div")).innerHTML=i,i=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",n=e,(a=document.body).firstChild?(o=n,(s=a.firstChild).parentNode.insertBefore(o,s)):a.appendChild(n))}))}(window)},"29f4":function(t,e,i){"use strict";var n=i("1a05"),a=i.n(n);a.a},"2aa3":function(t,e,i){"use strict";var n=i("0264"),a=i.n(n);a.a},"2c38":function(t,e,i){"use strict";var n=i("467e"),a=i.n(n);a.a},3:function(t,e){},3529:function(t,e,i){"use strict";var n=i("20a1"),a=i.n(n);a.a},3541:function(t,e,i){},"35ca":function(t,e,i){},3944:function(t,e,i){t.exports=i.p+"img/rotate.svg"},"41c7":function(t,e,i){"use strict";var n=i("d4da"),a=i.n(n);a.a},"467e":function(t,e,i){},"486b":function(t,e,i){"use strict";var n=i("7ecd"),a=i.n(n);a.a},"4a46":function(t,e,i){},"4b30":function(t,e,i){},5402:function(t,e,i){"use strict";var n=i("ef7a"),a=i.n(n);a.a},5559:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"},on:{contextmenu:function(t){t.preventDefault()}}},["main"==t.getViewType?i("Main"):t._e(),i("Editor",{directives:[{name:"show",rawName:"v-show",value:"main"!=t.getViewType,expression:"getViewType != 'main'"}]}),"preview"==t.getViewType?i("Preview"):t._e(),"export"==t.getViewType?i("ExportBox"):t._e(),"export_success"==t.getViewType?i("SaveSuccess"):t._e(),"loading"==t.getViewType?i("Loading"):t._e(),i("ErrorBox"),t.getIsShowConfirm?i("DYIconfirm"):t._e(),"save_all_png"==t.getViewType?i("SavePngRate"):t._e(),i("div",{staticClass:"font-loading"},t._l(t.getFamilies,(function(t){return i("span",{key:t.t,style:{"font-family":t.t}})})),0)],1)},o=[],s=(i("ac1f"),i("841c"),i("1276"),i("5530")),r=i("2f62"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main",class:{draging:t.isDraging},on:{dragover:t.dragoverFn,dragleave:t.dragleaveFn,dragend:t.dragendFn}},[t._m(0),i("div",{staticClass:"main-uplaod-box",class:{"draging-center":t.isDragingCenter},on:{dragover:function(e){return e.preventDefault(),t.dragoverInFn(e)},drop:t.dragFn,dragleave:t.dragleaveInFn}},[i("div",{staticClass:"upload-icon"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconmoren"}})])]),t._m(1),i("span",{staticClass:"upload-btn btn blue-btn",on:{click:t.showSelectFileFn}},[t._v("打开本地GIF图片")]),i("input",{ref:"updataGif",attrs:{type:"file",name:"",id:"",accept:"image/gif",hidden:""},on:{change:t.selectFileFn}})])])},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-header"},[i("div",{staticClass:"logo"}),i("div",{staticClass:"title"},[i("h1",[t._v("小白GIF编辑器")]),i("p",[t._v("轻松玩转GIF")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-info"},[i("p",[t._v("拖拽GIF文件至本页")]),i("p",[t._v("即可打开编辑")])])}],d=(i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),{name:"Main",data:function(){return{isDraging:!1,isDragingCenter:!1}},computed:Object(s["a"])({},Object(r["b"])("main",["getIsOnGragend"])),watch:{getIsOnGragend:function(t){t&&(this.isDraging=!1,this.isDragingCenter=!1,this.$store.commit("main/setIsOnGragend",!1))}},created:function(){this.$store.commit("main/setIsOnGragend",!1)},methods:{showSelectFileFn:function(){this.$refs.updataGif.click()},selectFileFn:function(t){this.initFile(t.target.files)},dragoverFn:function(){this.isDraging=!0},dragleaveFn:function(){this.isDraging=!1},dragFn:function(t){this.isDraging=!1,this.initFile(t.dataTransfer.files)},dragoverInFn:function(){this.isDragingCenter=!0},dragleaveInFn:function(){this.isDragingCenter=!1},dragendFn:function(){},initFile:function(t){var e=this;if(t.length>1)this.$store.commit("tips/setErrorText","GIF编辑只能选择一个文件！"),this.$store.commit("tips/setIsShowError",!0);else if("image/gif"!=t[0].type)this.$store.commit("tips/setErrorText","格式不符，导入失败！"),this.$store.commit("tips/setIsShowError",!0);else{var i=new FileReader;i.readAsArrayBuffer(t[0]),i.onload=function(t){var i=t.target.result,n=new Blob([i],{type:"image/gif"}),a=URL.createObjectURL(n);e.$store.commit("main/setGifUrl",a),e.$store.commit("main/setLoadingText","正在加载"),e.$store.commit("main/setViewType","loading")}}}}}),u=d,f=(i("026a"),i("2877")),p=Object(f["a"])(u,c,l,!1,null,"3d6a907a",null),h=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-box-b"},[i("Header"),i("EditorBody")],1)},g=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-box"},[i("div",{staticClass:"header-left"},[i("div",{staticClass:"logo"},[i("span",{staticClass:"logo-img",on:{click:t.toHome}}),i("span",{staticClass:"logo-title",on:{click:t.toHome}},[t._v("小白GIF编辑器")])])]),t._e(),i("div",{staticClass:"header-right"},[i("span",{staticClass:"menu",on:{click:t.previewGIF}},[i("span",{staticClass:"iconfont iconpreview"}),t._v("预览GIF")]),i("span",{staticClass:"menu",on:{click:t.showSelectFileFn}},[i("span",{staticClass:"iconfont iconImport"}),t._v("导入GIF ")]),i("span",{staticClass:"blue-btn",on:{click:t.exportGIF}},[i("span",{staticClass:"iconfont iconsave"}),t._v("导出GIF")])])])},b=[],y={name:"Header",data:function(){return{swtich:!1}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("editorPlay",["getPlayIndex","getPlayMode","getPlaySpeed"])),Object(r["b"])("gifInfo",["getGifWidth","getGifHeight"])),Object(r["b"])("editor",["getCanvas"])),methods:{showSelectFileFn:function(){chrome.send("chooseGifFile")},selectFileFn:function(t){var e=t.target.files;e.length>1?(this.$store.commit("tips/setErrorText","GIF编辑只能选择一个文件！"),this.$store.commit("tips/setIsShowError",!0)):"image/gif"!=e[0].type?(this.$store.commit("tips/setErrorText","格式不符，导入失败！"),this.$store.commit("tips/setIsShowError",!0)):this.$store.dispatch("tips/confrimFn",{text:"你确定要放弃本次编辑？",callback:function(){var t=new FileReader;t.readAsArrayBuffer(e[0]),t.onload=function(t){var e=t.target.result,i=new Blob([e],{type:"image/gif"});URL.createObjectURL(i)}}})},toHome:function(){var t=this;this.$store.dispatch("tips/confrimFn",{text:"你确定要放弃本次编辑？",callback:function(){t.$store.commit("main/setViewType","main"),location.href="/"}})},previewGIF:function(){this.$store.commit("main/setIsPreview",!0),this.$store.commit("main/setLoadingText","正在加载"),this.generateGIF()},exportGIF:function(){this.$store.commit("main/setIsPreview",!1),this.$store.commit("main/setLoadingText","正在导出"),this.generateGIF()},generateGIF:function(){var t=this;this.getCanvas.discardActiveObject(),this.getCanvas.requestRenderAll();var e=!1;this.$store.commit("editorPlay/setPlayIndex",0),this.$store.commit("editorPlay/setPlayType","pause"),this.$store.commit("main/setViewType","loading");var i={play_mode:this.getPlayMode,play_speed:this.getPlaySpeed,img_width:this.getGifWidth,img_height:this.getGifHeight,edit_img_data:[]},n=document.getElementById("imgedit");if(this.getCanvas.forEachObject((function(t){e=!0})),e)var a=setInterval((function(){var e={id:t.getPlayIndex,data:t.getCanvas.toDataURL()||""};i.edit_img_data.push(e),t.$store.commit("editorPlay/setPlayIndex",t.getPlayIndex+1),5==t.getPlayIndex&&(clearInterval(a),t.$store.commit("editorPlay/setPlayIndex",0),n.startCompositor(JSON.stringify(i)))}),50);else n.startCompositor(JSON.stringify(i))}}},C=y,x=(i("29f4"),Object(f["a"])(C,v,b,!1,null,"64977f06",null)),I=x.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-body"},[i("EditorCon"),i("InfoBox")],1)},P=[],T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-content"},[i("Editor"),i("EditorFooter")],1)},F=[],O=(i("b680"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-box",attrs:{id:"editorBox_b"},on:{click:t.changeInfoType,mousedown:t.errorDrawing}},[i("div",{staticClass:"editor-body",style:{width:t.bodyWidth,height:t.bodyHeight,cursor:this.getInitDrawing||this.getIsDrawing?"crosshair":"default"},attrs:{id:"editorBody"}},[i("div",{staticClass:"editor",style:{width:t.getGifWidth+"px",height:t.getGifHeight+"px",top:t.bodyTop,left:t.bodyLeft},attrs:{id:"editorBox"},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[i("imgedit",{attrs:{id:"imgedit",width:t.getGifWidth,height:t.getGifHeight,src:t.getGifUrl,img_edit_indx:t.getPlayIndex}}),i("canvas",{attrs:{id:"c"}}),this.getInitDrawing||this.getIsDrawing?i("div",{staticClass:"drawing-box",on:{mousedown:function(e){return e.stopPropagation(),t.startDrawing(e)}}}):t._e()],1)]),i("EditTypeBox")],1)}),S=[],_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-type-box",on:{click:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()}}},[t._l(t.types,(function(e){return i("div",{key:e.types,staticClass:"type-item",class:{disabled:e.isdisabled},attrs:{title:e.hoverText},on:{click:function(i){return t.changeEditType(e)}}},[i("span",{staticClass:"iconfont",class:e.icon}),i("span",{staticClass:"item-title"},[t._v(t._s(e.title))])])})),i("input",{ref:"picInput",attrs:{type:"file",name:"picInput",id:"picInput",hidden:"",accept:"image/jpg, image/png, image/webp,  image/bmp,  image/jpeg"},on:{change:t.selectPicFn}})],2)},j=[],B={name:"EditTypeBox",data:function(){return{types:[{type:"textbox",icon:"icontext",title:"文字",isdisabled:!1,hoverText:"添加文字"},{type:"rect",icon:"iconrectangle",title:"矩形",isdisabled:!1,hoverText:"添加矩形"},{type:"circle",icon:"iconcircular",title:"圆形",isdisabled:!1,hoverText:"添加圆形"},{type:"image",icon:"iconGraphical",title:"贴图",isdisabled:!1,hoverText:"添加贴图"},{type:"webpicbox",icon:"iconsucai",title:"素材",isdisabled:!1,hoverText:"添加素材"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("editor",["getCanvas"])),Object(r["b"])("pictureInfo",["getPictureCount"])),methods:{changeEditType:function(t){if(!t.isdisabled)switch(this.getCanvas.discardActiveObject(),this.getCanvas.renderAll(),this.$store.commit("editor/setInitDrawing",!1),t.type){case"textbox":this.addTextFn(),this.$store.commit("info/setInfoType",t.type);break;case"rect":this.$store.dispatch("rectInfo/initRectOptions"),this.$store.commit("info/setInfoType",t.type),this.$store.commit("editor/setInitDrawing",!0),this.$store.dispatch("rectInfo/initDrawingRect");break;case"circle":this.$store.dispatch("circleInfo/initRectOptions"),this.$store.commit("info/setInfoType",t.type),this.$store.commit("editor/setInitDrawing",!0),this.$store.dispatch("circleInfo/initDrawingCircle");break;case"image":10==this.getPictureCount?(this.$store.commit("tips/setErrorText","贴图已超过10张，添加失败"),this.$store.commit("tips/setIsShowError",!0)):(this.$store.commit("info/setInfoType","gif"),this.$store.commit("pictureInfo/setIsReplacePicture",!1),this.$refs["picInput"].value="",this.$refs["picInput"].click());break;case"webpicbox":10==this.getPictureCount?(this.$store.commit("tips/setErrorText","贴图已超过10张，添加失败"),this.$store.commit("tips/setIsShowError",!0)):(this.$store.commit("info/setInfoType","gif"),this.$store.commit("info/setInfoType",t.type));break}},addTextFn:function(){this.$store.dispatch("textInfo/addText"),setTimeout((function(){document.getElementById("inputText").value="",document.getElementById("inputText").focus()}),50)},selectPicFn:function(t){t.target.files.length&&this.$store.dispatch("pictureInfo/initAddPicture",t.target.files)}}},k=B,$=(i("e0d3"),Object(f["a"])(k,_,j,!1,null,"643526aa",null)),L=$.exports,D=i("7a94"),E=(i("3ce1"),i("3944")),A=i.n(E),W={name:"Editor",data:function(){return{bodyWidth:0,bodyHeight:0,bodyTop:0,bodyLeft:0,canvas:null}},components:{EditTypeBox:L},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("main",["getGifUrl","getViewType"])),Object(r["b"])("gifInfo",["getGifWidth","getGifHeight"])),Object(r["b"])("editorFooter",["getShowFrameList"])),Object(r["b"])("editorPlay",["getPlayIndex"])),Object(r["b"])("editor",["getInitDrawing","getIsDrawing"])),Object(r["b"])("info",["getInfoType"])),mounted:function(){this.initEditorSize(),window.addEventListener("resize",this.initEditorSize)},watch:{getShowFrameList:function(t){this.bodyHeight=t?document.body.clientHeight-60-118+"px":document.body.clientHeight-60+"px",this.initEditorSize()},getViewType:function(t){"editing"==t&&this.initEditorSize()},getGifWidth:function(t){t&&this.init()}},methods:{init:function(){var t=this;D["fabric"].Object.prototype.customiseCornerIcons({settings:{cornerSize:7,cornerShape:"circle",cornerBackgroundColor:"#ffffff",cornerPadding:5},mb:{cornerBorderColor:"",cursor:"pointer"},mtr:{icon:A.a,settings:{cornerBackgroundColor:"rgba(79, 181, 255, 1)",cornerShape:"circle",cornerSize:23,cornerBorderColor:""},cursor:"pointer"}}),this.canvas=new D["fabric"].Canvas("c",{objectCaching:!1,height:this.getGifHeight,width:this.getGifWidth}),this.canvas.selection=!1,this.$store.commit("editor/setCanvas",this.canvas),this.canvas.on("selection:created",(function(e){t.$store.commit("info/setInfoType","image"==e.target.type?e.selected[0].imageType?e.target.type:"webpic":e.target.type),t.initActives(e.target.type,e.selected)})),this.canvas.on("mouse:dblclick",(function(e){"image"==e.target.type&&(e.target.imageType?t.$store.dispatch("pictureInfo/replacePicture"):t.$store.dispatch("webPictureInfo/replacePicture"))})),this.canvas.on("selection:updated",(function(e){t.$store.commit("info/setInfoType","image"==e.target.type?e.selected[0].imageType?e.target.type:"webpic":e.target.type),t.initActives(e.target.type,e.selected)})),this.canvas.on("selection:cleared",(function(e){t.$store.commit("info/setInfoType","gif"),t.initActives("gif",[])})),this.canvas.on("object:modified",(function(e){"textbox"==t.activeType&&(e.target.text||t.canvas.remove(e.target),e.target.oldTop=text.top,e.target.oldLeft=text.left,e.target.setCoords())}))},initEditorSize:function(){var t=document.getElementById("editorBody"),e=document.body.clientWidth-330,i=this.getShowFrameList?document.body.clientHeight-60-118:document.body.clientHeight-60;this.bodyWidth=e+"px",this.bodyHeight=i+"px",e>this.getGifWidth?this.bodyLeft=(e-this.getGifWidth)/2+"px":t.scrollLeft=(this.getGifWidth-e)/2,i>this.getGifHeight?this.bodyTop=(i-this.getGifHeight)/2+"px":(this.bodyTop=0,t.scrollTop=(this.getGifHeight-i)/2)},changeInfoType:function(){this.canvas&&this.canvas.getActiveObject()&&(this.$store.commit("info/setInfoType","gif"),this.canvas.discardActiveObject(),this.canvas.renderAll())},initActives:function(t,e){switch("activeSelection"!=t&&this.$store.commit("editor/setActiveObj",e[0]),t){case"rect":this.$store.dispatch("rectInfo/initRectAttribute",e[0]);break;case"circle":this.$store.dispatch("circleInfo/initCircleAttribute",e[0]);break;case"image":e[0].imageType?this.$store.dispatch("pictureInfo/initPictureAttribute",e[0]):this.$store.dispatch("webPictureInfo/initPictureAttribute",e[0]);break;default:break}},startDrawing:function(t){if(this.getInitDrawing){switch(this.$store.commit("editor/setIsDrawing",!0),this.getInfoType){case"rect":this.$store.dispatch("rectInfo/startDrawingRect",t);break;case"circle":this.$store.dispatch("circleInfo/startDrawingCircle",t);break}this.$store.commit("editor/setInitDrawing",!1)}},errorDrawing:function(){this.getInitDrawing&&(this.$store.commit("tips/setErrorText","请在图片区域内开始绘制"),this.$store.commit("tips/setIsShowError",!0))}}},V=W,G=(i("0860"),Object(f["a"])(V,O,S,!1,null,"6fe57d86",null)),M=G.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-footer"},[i("span",{staticClass:"iconfont footer-btn",class:t.getShowFrameList?"iconretract":"iconopen",attrs:{title:t.getShowFrameList?"收起":"展开"},on:{click:t.changeShowFrameList}}),i("EditorController"),i("FrameList",{directives:[{name:"show",rawName:"v-show",value:t.getShowFrameList,expression:"getShowFrameList"}]})],1)},z=[],R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"frame-list-box",attrs:{id:"listBox"},on:{mousewheel:t.onmousewheelFn}},[i("div",{ref:"frameListBody",staticClass:"frame-list-body",style:{width:t.getFrameListWidth,left:t.listLeft+"px"}},t._l(t.getFrameList,(function(e,n){return i("div",{key:n,staticClass:"frame-item",class:{active:n==t.getPlayIndex},on:{click:function(e){return t.changePlayIndex(n)}}},[i("div",{staticClass:"item-box"},[i("img",{attrs:{src:e.data,alt:"",srcset:""},on:{mousedown:function(t){t.preventDefault()}}})]),i("div",{staticClass:"iten-index"},[t._v(t._s(n+1))])])})),0)])},N=[],U={name:"FrameList",data:function(){return{listLeft:0}},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("editorFooter",["getFrameList","getFrameListWidth"])),Object(r["b"])("editorPlay",["getPlayIndex"])),mounted:function(){window.addEventListener("resize",this.computLeft)},watch:{getPlayIndex:function(t){}},methods:{changePlayIndex:function(t){this.$store.commit("editorPlay/setPlayType","pause"),this.$store.dispatch("editorPlay/setPlayIndex",t)},computLeft:function(){var t=document.getElementById("listBox"),e=t.clientWidth,i=parseInt(e/124);i<=this.getPlayIndex?t.scrollLeft=124*(this.getPlayIndex-i+1):t.scrollLeft=0},onmousewheelFn:function(t){document.getElementById("listBox").scrollLeft-=t.wheelDelta}}},Y=U,q=(i("a1f6"),Object(f["a"])(Y,R,N,!1,null,"5cfd8830",null)),X=q.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-controller"},[i("div",{staticClass:"play-info"},[i("span",{staticClass:"index"},[t._v(t._s(t.getPlayIndex+1))]),i("span",{staticClass:"separator"},[t._v("/")]),i("span",{staticClass:"total"},[t._v(t._s(t.getFrameNumber))])]),i("div",{staticClass:"line"}),i("EditorPlayer"),i("div",{staticClass:"line"}),i("EditorExportPng")],1)},J=[],Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"player-box"},[i("span",{staticClass:"iconfont iconleftplay",class:{disabled:"play"==t.getPlayType},attrs:{title:"上一帧"},on:{click:function(e){return t.changePlayIndex(-1)}}}),"pause"==t.getPlayType?i("span",{staticClass:"iconfont iconplay",attrs:{title:"播放"},on:{click:function(e){return t.changePlayType("play")}}}):t._e(),"play"==t.getPlayType?i("span",{staticClass:"iconfont iconsuspend",attrs:{title:"暂停"},on:{click:function(e){return t.changePlayType("pause")}}}):t._e(),i("span",{staticClass:"iconfont iconrightplay",class:{disabled:"play"==t.getPlayType},attrs:{title:"下一帧"},on:{click:function(e){return t.changePlayIndex(1)}}})])},Q=[],tt={name:"EditorPlayer",data:function(){return{timer:null,gifIndex:0,isUp:!0,animateStep:5}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("editorPlay",["getPlayType","getPlaySpeed","getPlayOutTime","getPlayIndex","getPlayMode"])),Object(r["b"])("gifInfo",["getFrameNumber"])),Object(r["b"])("editor",["getCanvas","getAnimateObj"])),watch:{getPlaySpeed:function(){"play"==this.getPlayType&&(clearInterval(this.timer),this.gifPlay())},getPlayMode:function(){"play"==this.getPlayType&&(clearInterval(this.timer),this.gifPlay())},getPlayType:function(){clearInterval(this.timer),"play"==this.getPlayType&&this.gifPlay()},getPlayIndex:function(t){this.gifIndex=t,this.initAnimate(t)}},mounted:function(){"play"==this.getPlayType&&(clearInterval(this.timer),this.gifPlay())},methods:{changePlayType:function(t){this.$store.commit("editorPlay/setPlayType",t),clearInterval(this.timer),"play"==t&&this.gifPlay()},changePlayIndex:function(t){if("pause"==this.getPlayType){var e=1==t?this.getPlayIndex+t==this.getFrameNumber?0:this.getPlayIndex+t:this.getPlayIndex+t==-1?this.getFrameNumber-1:this.getPlayIndex+t;this.$store.dispatch("editorPlay/setPlayIndex",e)}},gifPlay:function(){var t=this,e=Math.round(this.getPlayOutTime/this.getPlaySpeed);this.timer=setInterval((function(){0==t.getPlayMode?t.gifIndex=t.gifIndex+1==t.getFrameNumber?0:t.gifIndex+1:1==t.getPlayMode?t.gifIndex=t.gifIndex<1?t.getFrameNumber-1:t.gifIndex-1:2==t.getPlayMode&&(t.isUp?(t.gifIndex=t.gifIndex+1==t.getFrameNumber?0:t.gifIndex+1,t.isUp=!(t.gifIndex+1==t.getFrameNumber)):(t.gifIndex=t.gifIndex<1?t.getFrameNumber-1:t.gifIndex-1,t.isUp=t.gifIndex<1)),t.$store.dispatch("editorPlay/setPlayIndex",t.gifIndex)}),e)},initAnimate:function(t){for(var e in this.getAnimateObj)switch(this.getAnimateObj[e].animateType){case"zoomInOut":this.animateSizeFn(t,this.getAnimateObj[e]);break;case"flash":this.animateFlashFn(t,this.getAnimateObj[e]);break;case"shakeUpDown":this.animateShakeUpDownFn(t,this.getAnimateObj[e]);break;default:break}},animateSizeFn:function(t,e){var i=e.oldFontSize,n=(parseInt(e.oldFontSize/10),Math.ceil(this.animateStep/2));e.oldTop,e.oldLeft,t%this.animateStep>n-1?(this.animateStep,this.animateStep):this.animateStep;i=t%this.animateStep>n-1?i+(this.animateStep-t%this.animateStep-1):i+t%this.animateStep,e.set({opacity:1}),e.set({fontSize:i,dirty:!0}),this.getCanvas.requestRenderAll()},animateFlashFn:function(t,e){var i=Math.ceil(this.animateStep/2),n=t%this.animateStep>i-1?1-.5*(this.animateStep-t%this.animateStep-1):1-t%this.animateStep*.5;n=n.toFixed(2),e.set({opacity:n,dirty:!0}),this.getCanvas.renderAll()},animateShakeUpDownFn:function(t,e){var i=e.oldTop,n=Math.ceil(this.animateStep/2),a=t%this.animateStep>n-1?-2*-(this.animateStep-t%this.animateStep-1):t%this.animateStep*2;e.set({opacity:1}),e.set({top:i+a,dirty:!0}),this.getCanvas.renderAll()}}},et=tt,it=(i("b57c"),Object(f["a"])(et,Z,Q,!1,null,"980eb194",null)),nt=it.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"export-png-box"},[i("span",{staticClass:"iconfont iconone",class:{disabled:"play"==t.getPlayType},attrs:{title:"保存当前帧"},on:{click:t.chooseFile}}),i("span",{staticClass:"iconfont iconmany",attrs:{title:"保存所有帧"},on:{click:t.saveAllPng}})])},ot=[],st={name:"EditorExportPng",data:function(){return{dom:null,saveType:-1,timer:null}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("editorPlay",["getPlayType","getPlayIndex"])),Object(r["b"])("gifInfo",["getGifWidth","getGifHeight","getFrameNumber"])),Object(r["b"])("editor",["getCanvas"])),mounted:function(){this.dom=document.getElementById("imgedit"),this.dom.onchoosesuccess=this.onchoosesuccess,this.dom.onsavefilesuccess=this.onsavefilesuccess,this.dom.onerrorgifdata=this.onerrorgifdata},methods:{chooseFile:function(){if("pause"==this.getPlayType&&"function"==typeof this.dom.chooseFile){var t=new Date,e="GIF"+t.getFullYear()+this.formatTime(t.getMonth()+1)+this.formatTime(t.getDate())+this.formatTime(t.getHours())+this.formatTime(t.getMinutes())+this.formatTime(t.getSeconds()),i=this.getPlayIndex+1;this.dom.chooseFile(i,e),this.saveType=0}},onchoosesuccess:function(){this.getCanvas.discardActiveObject();var t=this.getCanvas.toDataURL()||"",e={index_id:this.getPlayIndex+1,img_name:"",img_width:this.getGifWidth,img_height:this.getGifHeight,edit_img_data:[{data:t}]};this.savePngFn(e)},saveAllPng:function(){var t=this;this.getCanvas.discardActiveObject(),this.saveType=1;var e=new Date,i="GIF图片"+e.getFullYear()+this.formatTime(e.getMonth()+1)+this.formatTime(e.getDate())+this.formatTime(e.getHours())+this.formatTime(e.getMinutes())+this.formatTime(e.getSeconds()),n=!1;this.$store.commit("editorPlay/setPlayType","pause"),this.$store.commit("tips/setSaveRate",0),this.$store.commit("main/setViewType","save_all_png");var a={index_id:0,img_name:i,img_width:this.getGifWidth,img_height:this.getGifHeight,edit_img_data:[]};this.getCanvas.forEachObject((function(t){n=!0})),n?(this.$store.commit("editorPlay/setPlayIndex",0),this.timer=setInterval((function(){var e={data:t.getCanvas.toDataURL()||""};a.edit_img_data.push(e),t.$store.commit("editorPlay/setPlayIndex",t.getPlayIndex+1),5==t.getPlayIndex&&(clearInterval(t.timer),t.timer=null,t.$store.commit("editorPlay/setPlayIndex",0),t.savePngFn(a))}),50)):this.savePngFn(a)},savePngFn:function(t){this.dom.saveGifFrame(JSON.stringify(t))},onsavefilesuccess:function(){0==this.saveType?(this.$store.commit("tips/setConfrimText","当前帧已保存，点击“确定”打开保存目录"),this.$store.commit("tips/setIsShowConfirm",!0),this.$store.commit("tips/setConfrimCallback",this.openFile),this.$store.commit("tips/setIsSavePng",!0)):1==this.saveType&&this.getSaveFileIndex()},getSaveFileIndex:function(){var t=this.dom.GetSaveFileIndex();this.$store.commit("tips/setSaveRate",t),t==this.getFrameNumber&&(this.$store.commit("main/setViewType","editing"),this.$store.commit("tips/setConfrimText","所有帧已保存，点击“确定”打开保存目录"),this.$store.commit("tips/setIsShowConfirm",!0),this.$store.commit("tips/setConfrimCallback",this.openFile),this.$store.commit("tips/setIsSavePng",!0))},onerrorgifdata:function(){this.$store.commit("tips/setConfirmType","iconerror"),this.$store.commit("tips/setConfrimText","保存失败，请重新操作"),this.$store.commit("tips/setIsShowConfirm",!0),this.$store.commit("tips/setIsSavePng",!0)},openFile:function(){-1!=this.saveType&&this.dom.OpenFile(this.saveType)},formatTime:function(t){var e="";return e=t<10?"0"+t:t,e}}},rt=st,ct=(i("c825"),Object(f["a"])(rt,at,ot,!1,null,"4bad77c4",null)),lt=ct.exports,dt={name:"EditorController",computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("gifInfo",["getFrameNumber"])),Object(r["b"])("editorPlay",["getPlayIndex"])),components:{EditorPlayer:nt,EditorExportPng:lt}},ut=dt,ft=(i("ad24"),Object(f["a"])(ut,K,J,!1,null,"456211ac",null)),pt=ft.exports,ht={name:"EditorFooter",computed:Object(s["a"])({},Object(r["b"])("editorFooter",["getShowFrameList"])),components:{FrameList:X,EditorController:pt},methods:{changeShowFrameList:function(){this.$store.commit("editorFooter/setShowFrameList",!this.getShowFrameList)}}},mt=ht,gt=(i("1bca"),Object(f["a"])(mt,H,z,!1,null,"0bb6f833",null)),vt=gt.exports,bt={name:"EditorCon",computed:Object(s["a"])({},Object(r["b"])("main",["getIsPreview","getViewType","getGifUrl"])),components:{Editor:M,EditorFooter:vt},mounted:function(){var t=this,e=document.getElementById("imgedit");e.onload=function(){var i=JSON.parse(e.GetGifInfo()),n=i.gif_frame_size;0==n&&(t.$store.commit("main/setViewType","main"),t.$store.commit("tips/setErrorText","GIF导入失败，将返回首页！"),t.$store.commit("tips/setIsShowError",!0),setTimeout((function(){location.href="/"}),2e3)),i.transparent_rgb;var a=0,o=0,s=[];t.$store.commit("gifInfo/setFrameNumber",n),o=120*n+"px",t.$store.commit("editorFooter/setFrameListWidth",o);for(var r=0;r<n;r++){var c=JSON.parse(e.GetImgDataByIndx(r));s.push(c);var l=0==c.time_delay?100:c.time_delay<30?30:c.time_delay;a+=l}0!=n&&(history.replaceState(null,"","/"),t.$store.commit("main/setViewType","editing"),t.$store.commit("editorFooter/setFrameList",s),t.$store.commit("editorPlay/setPlayOutTime",a/s.length),t.$store.commit("gifInfo/setGifTime",t.getGifTime(a)),t.$store.commit("gifInfo/setGifWidth",e.querySelector("img").naturalWidth),t.$store.commit("gifInfo/setGifHeight",e.querySelector("img").naturalHeight),t.$store.commit("editorPlay/setPlayType","play"))},e.onimagecompositesuccess=function(){var i=e.GetComplexGifBase64Data();i=JSON.parse(i),t.$store.commit("main/setExportGIFURL",i.gif_data),t.$store.commit("main/setExportGIFSize",t.getFileSize(1024*i.gif_length)),t.$store.commit("main/setExportGIFWidth",i.gif_width),t.$store.commit("main/setExportGIFHeight",i.gif_height),t.$store.commit("main/setExportGIFTime",t.getGifTime(i.gif_time)),t.$store.commit("main/setViewType",t.getIsPreview?"preview":"export")},e.onerror=function(e){t.$store.commit("main/setViewType","main"),setTimeout((function(){location.href="/"}),500)},e.ongifimporterror=function(t){location.href="/"},e.ongifcomposeerror=function(e){t.$store.commit("main/setViewType","editing")},e.onloadeddata=function(i){"main"==t.getViewType?location.href="/"+e.getAttribute("new_src"):e.getAttribute("new_src").split("?url=")[1]==t.getGifUrl||e.getAttribute("new_src").length>5&&t.getGifUrl!=e.getAttribute("new_src").split("?url=")[1]&&("loading"==t.getViewType||"preview"!=t.getViewType&&"export"!=t.getViewType&&"export_success"!=t.getViewType||t.$store.commit("main/setViewType","editing"),t.$store.dispatch("tips/confrimFn",{text:"你确定要导入新的GIF？",callback:function(){t.$store.commit("main/setViewType","main"),location.href="/"+e.getAttribute("new_src")}}))},e.ondragend=function(e){t.$store.commit("main/setIsOnGragend",!0)}},methods:{getFileSize:function(t){var e="";return e=t<1048576?(t/1024).toFixed(2)+"KB":(t/1024/1024).toFixed(2)+"MB",e},getGifTime:function(t){return(t/1e3).toFixed(1)+"秒"}}},yt=bt,Ct=(i("f759"),Object(f["a"])(yt,T,F,!1,null,"1e3d301f",null)),xt=Ct.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-box"},[i("div",{staticClass:"info-scroll-box"},[i("div",{staticClass:"info-content"},["gif"==t.getInfoType?i("GifInfo"):t._e(),"textbox"==t.getInfoType?i("TextInfo"):t._e(),"rect"==t.getInfoType?i("RectInfo"):t._e(),"circle"==t.getInfoType?i("CircleInfo"):t._e(),"image"==t.getInfoType?i("PictureInfo"):t._e(),"webpicbox"==t.getInfoType?i("WebPictureListBox"):t._e(),"webpic"==t.getInfoType?i("WebPictureInfo"):t._e()],1)]),"gif"!=t.getInfoType&&"webpicbox"!=t.getInfoType?i("div",{staticClass:"info-footer",class:{"no-shadow":t.getIsShowShadow}},[i("DelectButton",{on:{myclick:t.delectFn}})],1):t._e()])},wt=[],Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gif-info-body"},[i("div",{staticClass:"info-title"},[t._v(" GIF属性 ")]),i("div",{staticClass:"child-info-item"},[i("span",{staticClass:"child-info-title"},[t._v("文件帧数 ：")]),i("span",{staticClass:"child-info-value"},[t._v(t._s(t.getFrameNumber)+"帧")])]),i("div",{staticClass:"child-info-item"},[i("span",{staticClass:"child-info-title"},[t._v("动画时长 ：")]),i("span",{staticClass:"child-info-value"},[t._v(t._s(t.getGifTime))])]),i("div",{staticClass:"child-info-item"},[i("span",{staticClass:"child-info-title"},[t._v("文件尺寸 ：")]),i("span",{staticClass:"child-info-value"},[t._v(t._s(t.getGifWidth)+"宽 x "+t._s(t.getGifHeight)+"高")])]),i("div",{staticClass:"item-title"},[t._v("播放速度")]),i("div",{staticClass:"speed-controller"},[i("div",[i("input",{staticClass:"speed-view",attrs:{id:"speed",type:"range",name:"",min:"0",max:"4",step:"1",value:"2","v-value":t.speedValue},on:{input:t.rangeSpeed}})]),i("div",{staticClass:"speed-list"},t._l(t.speedList,(function(e){return i("div",{key:e.id,staticClass:"speed-item",class:{active:e.value==t.getPlaySpeed},on:{click:function(i){return t.changeSpeed(e)}}},[t._v(" "+t._s(e.title)+" ")])})),0)]),i("div",{staticClass:"item-title"},[t._v("播放顺序")]),i("div",{staticClass:"play-type-controller"},t._l(t.playModes,(function(e){return i("div",{key:e.id,staticClass:"play-type-item"},[i("span",{staticClass:"btn",class:{active:e.value==t.getPlayMode},on:{click:function(i){return t.changePlayMode(e)}}},[i("span",{staticClass:"iconfont",class:e.icon}),t._v(" "+t._s(e.title)+" ")])])})),0)])},Tt=[],Ft={name:"GifInfo",data:function(){return{speedValue:2,speedList:[{id:"speed1",value:.1,title:"0.1x",speedValue:"0"},{id:"speed2",value:.5,title:"0.5x",speedValue:"1"},{id:"speed3",value:1,title:"1x",speedValue:"2"},{id:"speed4",value:2,title:"2x",speedValue:"3"},{id:"speed5",value:3,title:"3x",speedValue:"4"}],playModes:[{id:"mode1",value:0,title:"正序",icon:"iconicon-test2"},{id:"mode2",value:1,title:"反序",icon:"iconicon-test"},{id:"mode3",value:2,title:"正反交替",icon:"iconicon-test1"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("editorPlay",["getPlaySpeed","getSpeedLeft","getPlayMode"])),Object(r["b"])("gifInfo",["getFrameNumber","getGifWidth","getGifHeight","getGifTime"])),methods:{rangeSpeed:function(t){this.speedValue=t.target.value,this.changeSpeed(this.speedList[t.target.value])},changeSpeed:function(t){this.$store.dispatch("editorPlay/changePlaySpeed",t),this.speedValue=t.speedValue,document.getElementById("speed").value=t.speedValue},changePlayMode:function(t){this.$store.commit("editorPlay/setPlayMode",t.value)}}},Ot=Ft,St=(i("9c4a"),Object(f["a"])(Ot,Pt,Tt,!1,null,"4188a9cf",null)),_t=St.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"font-contain",attrs:{id:"showShadow"}},[i("div",{staticClass:"font-main"},[i("div",{staticClass:"scroll-box",on:{click:t.gifinputBlur}},[i("div",{staticClass:"info-title"},[t._v(" 文字属性 ")]),i("div",{staticClass:"font-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"输入想要写的文字",id:"inputText",autocomplete:"off"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),i("div",{staticClass:"font-title"},[t._v(" 颜色 "),i("div",{staticClass:"fr color-picker-box"},[i("ColorPicker",{attrs:{color:t.textColor},nativeOn:{change:function(e){return t.changeColorFn(e)}}})],1)]),i("div",{staticClass:"color-select-box"},[i("ColorSelecter",{attrs:{name:"textColor"},nativeOn:{change:function(e){return t.changeColorFn(e)}},model:{value:t.textColor,callback:function(e){t.textColor=e},expression:"textColor"}})],1),i("div",{staticClass:"font-title"},[t._v(" 字体 ")]),i("div",{staticClass:"flex"},t._l(t.getFamilies,(function(e){return i("span",{key:e.value,staticClass:"btn",class:{active:t.curFamily==e.t},style:{"font-family":e.t},on:{click:function(i){return t.checkFamily(e)}}},[t._v(t._s(e.t))])})),0),i("div",{staticClass:"font-title"},[t._v(" 动效 ")]),i("div",{staticClass:"flex"},t._l(t.animations,(function(e){return i("em",{key:e.value,staticClass:"btn",class:{active:t.curAni==e.value},on:{click:function(i){return t.checkAni(e)}}},[i("span",{attrs:{"data-ani":e.ani_class}},[t._v(t._s(e.name))])])})),0)])])])])},Bt=[],kt=(i("cb29"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"color-select-body"},t._l(t.colors,(function(e){return i("div",{key:e,staticClass:"color-select-item"},[i("label",{attrs:{for:t.name+e}},[i("input",{staticClass:"check-color",attrs:{id:t.name+e,type:"radio",name:t.name,hidden:""},domProps:{value:e,checked:e==t.value}}),i("span",{staticClass:"item-color",class:{"white-class":"#ffffff"==e},style:{backgroundColor:e}})])])})),0)}),$t=[],Lt={name:"ColorSelecter",data:function(){return{colors:["#ffffff","#000000","#ff2880","#ff053c","#c91e33","#ff653e","#ffd503","#a9ff04","#688c6d","#02881f","#4fb5ff","#1279e1","#e2d2ff","#8d71ff"]}},props:{color:{type:String},name:{type:String},value:{type:String,default:""}},mounted:function(){},methods:{changeColorFn:function(t){this.$emit("update:value",t)}}},Dt=Lt,Et=(i("7a56"),Object(f["a"])(Dt,kt,$t,!1,null,"61e867f8",null)),At=Et.exports,Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"color-picker"},[i("span",{staticClass:"color-box",style:{backgroundColor:t.colorValue},on:{click:t.showColorFn}}),i("span",{staticClass:"iconfont iconxiguan",on:{click:t.showColorPickerFn}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.colorValue,expression:"colorValue"}],ref:"colorInput",attrs:{type:"color",name:"",hidden:""},domProps:{value:t.colorValue},on:{change:t.changeColorFn,input:function(e){e.target.composing||(t.colorValue=e.target.value)}}}),i("input",{ref:"colorPickerInput",attrs:{type:"color-picker",hidden:""},on:{change:t.changeColorFn}})])},Vt=[],Gt={name:"ColorPicker",data:function(){return{colorValue:"#fff"}},props:["color"],mounted:function(){this.colorValue=this.color},watch:{color:function(t){this.colorValue=t}},methods:{showColorFn:function(){this.$refs.colorInput.click()},showColorPickerFn:function(){this.$refs.colorPickerInput.click()},changeColorFn:function(t){this.colorValue=t.target.value}}},Mt=Gt,Ht=(i("99f4"),Object(f["a"])(Mt,Wt,Vt,!1,null,"55df61c0",null)),zt=Ht.exports,Rt={name:"TextInfo",data:function(){return{curFamily:"",curAni:"",text:"",textColor:"#ffffff",colors:[{value:"#ffffff"},{value:"#000000"},{value:"#ff2880"},{value:"#ff053c"},{value:"#c91e33"},{value:"#ff653e"},{value:"#ffd503"},{value:"#a9ff04"},{value:"#688c6d"},{value:"#02881f"},{value:"#4fb5ff"},{value:"#1279e1"},{value:"#e2d2ff"},{value:"#8d71ff"}],families:[{value:"思源黑体",name:"思源黑体"},{value:"站酷文艺",name:"站酷文艺"},{value:"庞门正道",name:"庞门正道"}],animations:[{value:"none",name:"无动效"},{ani_class:"zoomInOut",value:"zoomInOut",name:"放大缩小"},{ani_class:"flash",value:"flash",name:"突然闪现"},{ani_class:"shakeUpDown",value:"shakeUpDown",name:"上下抖动"}]}},components:{ColorSelecter:At,ColorPicker:zt},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("editor",["getCanvas","getActiveObj","getAnimateObj"])),Object(r["b"])("textInfo",["getText","getFamilies"])),mounted:function(){this.text=this.getActiveObj.text,this.textColor=this.getActiveObj.fill,this.curFamily=this.getActiveObj.fontFamily,this.curAni=this.getActiveObj.animateType||"none"},watch:{text:function(){this.changeText()},getActiveObj:function(t){t&&(this.text=t.text,this.textColor=t.fill,this.curFamily=t.fontFamily,this.curAni=t.animateType||"none")},getText:function(t){this.text=t}},methods:{gifinputBlur:function(){this.getActiveObj.exitEditing()},changeColorFn:function(t){this.textColor=t.target.value,this.checkColor(t.target.value)},checkColor:function(t){this.textColor=t,this.$store.commit("textInfo/setTextColor",t),this.getActiveObj.set({fill:t}),this.getCanvas.renderAll(),this.checkHasText()},checkFamily:function(t){this.curFamily=t.t,this.$store.commit("textInfo/setTextFamily",t.t),this.getActiveObj.set({fontFamily:t.t}),this.getCanvas.renderAll(),this.checkHasText()},checkAni:function(t){this.curAni=t.value,this.checkHasText(),this.getActiveObj.animateType!=t.value&&(this.getActiveObj.animateType=t.value,"none"==t.value?(this.getActiveObj.set({opacity:1}),this.getCanvas.renderAll(),this.getAnimateObj[this.getActiveObj.id]&&this.$store.commit("editor/deleteAnimateObj",this.getActiveObj.id)):(this.getActiveObj.animateType=t.value,this.$store.commit("editor/addAnimateObj",this.getActiveObj)))},delFont:function(){this.getAnimateObj[this.getActiveObj.id]&&this.$store.commit("editor/deleteAnimateObj",this.getActiveObj.id),this.getActiveObj.set({text:""}),this.getCanvas.discardActiveObject(),this.getCanvas.renderAll()},changeText:function(){this.getActiveObj.set({text:this.text}),this.getCanvas.renderAll()},checkHasText:function(){var t=document.getElementById("inputText");this.text||(t.classList.add("notTextAni"),setTimeout((function(){t.classList.remove("notTextAni")}),300))}}},Nt=Rt,Ut=(i("b780"),Object(f["a"])(Nt,jt,Bt,!1,null,"7b97737a",null)),Yt=Ut.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-body"},[i("div",{staticClass:"info-scroll-box"},[i("div",{staticClass:"info-con"},[i("div",{staticClass:"info-title"},[t._v(" 矩形属性 ")]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-item-title"},[t._v(" 填充颜色 "),i("div",{staticClass:"fr color-picker-box"},[i("ColorPicker",{attrs:{color:t.getFillColor},nativeOn:{change:function(e){return t.changeColorFn(e)}}})],1)]),i("div",{staticClass:"color-select-box"},[i("ColorSelecter",{attrs:{name:"rectFillColor"},nativeOn:{change:function(e){return t.changeColorFn(e)}},model:{value:t.getFillColor,callback:function(e){t.getFillColor=e},expression:"getFillColor"}})],1)]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-item-title"},[t._v(" 边框样式 ")]),i("BorderSelect",{attrs:{name:"rectBorder"},nativeOn:{change:function(e){return t.changeBorderStyleFn(e)}},model:{value:t.getBorderType,callback:function(e){t.getBorderType=e},expression:"getBorderType"}})],1),t.getBorderType?i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-item-title"},[t._v(" 边框颜色 "),i("div",{staticClass:"fr color-picker-box"},[i("ColorPicker",{attrs:{color:t.getBorderColor},nativeOn:{change:function(e){return t.changeBorderColorFn(e)}}})],1)]),i("div",{staticClass:"color-select-box"},[i("ColorSelecter",{attrs:{name:"borderColor"},nativeOn:{change:function(e){return t.changeBorderColorFn(e)}},model:{value:t.getBorderColor,callback:function(e){t.getBorderColor=e},expression:"getBorderColor"}})],1)]):t._e(),t.getBorderType?i("div",{staticClass:"info-item",staticStyle:{"margin-top":"20px"}},[i("BorderWidthSetting",{attrs:{id:"RectBorderWidthSetting",mtitle:"输入从0到10的值"},on:{mychange:t.changeRectBorderWidthFn},model:{value:t.getBorderWidth,callback:function(e){t.getBorderWidth=e},expression:"getBorderWidth"}})],1):t._e(),i("div",{staticClass:"info-item",staticStyle:{"margin-top":"20px"}},[i("OpacitySetting",{attrs:{id:"RectOpacitySetting",mtitle:"输入从0到100的值"},on:{mychange:t.changeOpacityFn},model:{value:t.getRectOpacity,callback:function(e){t.getRectOpacity=e},expression:"getRectOpacity"}})],1)])])])},Xt=[],Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"border-box"},t._l(t.types,(function(e){return i("div",{key:e.id,staticClass:"border-type-item",class:{active:e.type==t.value}},[i("label",{attrs:{for:t.name+e.id}},[i("input",{staticClass:"check-border",attrs:{id:t.name+e.id,type:"radio",name:t.name,hidden:""},domProps:{value:e.type,checked:e.type==t.value},on:{change:function(i){return t.changeBorderStyle(e.type)}}}),i("span",{staticClass:"border-type-btn",class:e.type},[t._v(t._s(e.title))]),e.type?i("div",{staticClass:"border-icon",style:{borderBottomStyle:e.type}}):t._e()])])})),0)},Jt=[],Zt={name:"BorderSelect",data:function(){return{types:[{id:1,type:"",title:"无边框"},{id:2,type:"solid",title:""},{id:3,type:"dashed",title:""}]}},props:{value:{type:String,default:""},name:{type:String,default:""}},created:function(){},methods:{changeBorderStyle:function(t){this.$emit("update:value",t)}}},Qt=Zt,te=(i("b4c9"),Object(f["a"])(Qt,Kt,Jt,!1,null,"6e2ff056",null)),ee=te.exports,ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"border-width-box"},[i("div",{staticClass:"title"},[t._v("描边大小")]),i("div",{staticClass:"border-set-box"},[i("fh-Number-Input",{attrs:{id:t.id,value:t.value,unit:"px",min:t.min,max:t.max},on:{mychange:t.changeValueFn}}),i("div",{staticClass:"title-box"},[t._v(" "+t._s(t.mtitle)+" ")])],1)])},ne=[],ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fh-number-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newValue,expression:"newValue"}],attrs:{type:"text",id:t.id,autocomplete:"off"},domProps:{value:t.newValue},on:{focus:t.inputFocus,keydown:t.checkImportNumber,keyup:t.checkImportValue,blur:t.completionValue,input:function(e){e.target.composing||(t.newValue=e.target.value)}}}),i("div",{staticClass:"btn-box"},[i("span",{staticClass:"btn-up",on:{click:t.upNumberFn}}),i("span",{staticClass:"btn-down",on:{click:t.downNumberFn}})])])},oe=[],se=(i("c975"),i("a9e3"),i("25f0"),{name:"fhNumberInput",data:function(){return{newValue:"",oldValue:"",initValue:"",isFocus:!1}},props:{value:{type:String,default:""},id:{type:String,default:""},unit:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:30}},created:function(){this.oldValue=this.value.toString(),this.newValue=this.value.toString(),this.initValue=this.value.toString()},watch:{value:function(t,e){this.newValue=-1!=t.toString().indexOf(this.unit)||this.isFocus?t.toString():t.toString()+this.unit}},methods:{inputFocus:function(t){this.isFocus=!0,setTimeout((function(){t.target.select()}),200)},checkImportNumber:function(t){8!=t.keyCode&&37!=t.keyCode&&39!=t.keyCode&&(t.keyCode<48||t.keyCode>58)&&(t.keyCode<96||t.keyCode>105)&&(t.preventDefault(),t.stopPropagation())},checkImportValue:function(t){var e=""==t.target.value||isNaN(parseInt(t.target.value))?"":parseInt(t.target.value);e>this.max||e<this.min?(this.newValue=parseInt(this.oldValue),this.$emit("mychange",this.oldValue.toString())):(this.oldValue=isNaN(parseInt(t.target.value))?this.oldValue:parseInt(t.target.value),this.newValue=e,this.$emit("mychange",e.toString()))},completionValue:function(){this.isFocus=!1;var t=""==this.newValue||isNaN(parseInt(this.newValue))?"":parseInt(this.newValue);(t>this.max||t<this.min)&&(this.newValue=parseInt(this.oldValue),this.$emit("mychange",this.oldValue.toString())),(isNaN(parseInt(this.newValue))||""==this.newValue)&&(this.newValue=this.oldValue.toString()),this.newValue&&-1==this.newValue.toString().indexOf(this.unit)&&(this.newValue=parseInt(this.newValue)+this.unit),this.$emit("mychange",this.newValue)},upNumberFn:function(){if(this.newValue){var t=parseInt(this.newValue);t<this.max&&(this.newValue=t+1+this.unit,this.$emit("mychange",this.newValue),this.oldValue=this.newValue)}},downNumberFn:function(){if(this.newValue){var t=parseInt(this.newValue);t>this.min&&(this.newValue=t-1+this.unit,this.$emit("mychange",this.newValue),this.oldValue=this.newValue)}}}}),re=se,ce=(i("5735"),Object(f["a"])(re,ae,oe,!1,null,"285f1151",null)),le=ce.exports,de={name:"BorderWidthSetting",data:function(){return{min:0,max:10,oldValue:""}},components:{fhNumberInput:le},props:{value:{type:String,default:""},id:{type:String,default:""},mtitle:{String:String,default:""}},updated:function(){},methods:{changeValueFn:function(t){this.$emit("mychange",t)}}},ue=de,fe=(i("de45"),Object(f["a"])(ue,ie,ne,!1,null,"4117c4b6",null)),pe=fe.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"border-width-box"},[i("div",{staticClass:"title"},[t._v("不透明度")]),i("div",{staticClass:"border-middle"},[i("RangeInput",{attrs:{value:t.value,min:t.min,max:t.max},on:{mychange:t.changeValueFn}})],1),i("div",{staticClass:"border-set-box"},[i("fh-Number-Input",{attrs:{id:t.id,value:t.value,unit:"%",min:t.min,max:t.max},on:{mychange:t.changeValueFn}}),i("div",{staticClass:"title-box"},[t._v(" "+t._s(t.mtitle)+" ")])],1)])},me=[],ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"range-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newValue,expression:"newValue"}],staticClass:"m-range",attrs:{type:"range",id:t.id,min:t.min,max:t.max},domProps:{value:t.newValue},on:{change:t.changeValueFn,__r:function(e){t.newValue=e.target.value}}})])},ve=[],be={name:"RangeInput",data:function(){return{newValue:100}},props:{value:{type:String,default:""},id:{type:String,default:""},unit:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:30}},watch:{value:function(t,e){this.newValue=parseInt(this.value)||1}},created:function(){this.newValue=this.value?parseInt(this.value):100},methods:{changeValueFn:function(t){this.$emit("mychange",t.target.value)}}},ye=be,Ce=(i("dc18"),Object(f["a"])(ye,ge,ve,!1,null,"14456051",null)),xe=Ce.exports,Ie={name:"OpacitySetting",data:function(){return{min:0,max:100,oldValue:""}},components:{fhNumberInput:le,RangeInput:xe},props:{value:{type:String,default:""},id:{type:String,default:""},mtitle:{String:String,default:""}},methods:{changeValueFn:function(t){this.$emit("mychange",t)}}},we=Ie,Pe=(i("61dd"),Object(f["a"])(we,he,me,!1,null,"77fff8f6",null)),Te=Pe.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"delect-btn-body"},[i("span",{staticClass:"iconfont icondel",attrs:{title:"删除"},on:{click:t.clickFn}})])},Oe=[],Se={name:"DelectButton",methods:{clickFn:function(){this.$emit("myclick")}}},_e=Se,je=(i("f1ae"),Object(f["a"])(_e,Fe,Oe,!1,null,"0c739dae",null)),Be=je.exports,ke={name:"RectInfo",components:{ColorSelecter:At,ColorPicker:zt,BorderSelect:ee,BorderWidthSetting:pe,OpacitySetting:Te,DelectButton:Be},computed:Object(s["a"])({},Object(r["b"])("rectInfo",["getFillColor","getBorderType","getBorderColor","getBorderWidth","getRectOpacity"])),methods:{changeColorFn:function(t){this.$store.commit("rectInfo/setFillColor",t.target.value),this.$store.dispatch("rectInfo/settingsRect",{type:"fill",value:t.target.value})},changeBorderColorFn:function(t){this.$store.commit("rectInfo/setBorderColor",t.target.value),this.$store.dispatch("rectInfo/settingsRect",{type:"borderColor",value:t.target.value})},changeBorderStyleFn:function(t){this.$store.commit("rectInfo/setBorderType",t.target.value),this.$store.dispatch("info/checkIsShowShadow"),this.$store.dispatch("rectInfo/settingsRect",{type:"borderType",value:t.target.value})},changeRectBorderWidthFn:function(t){this.$store.commit("rectInfo/setBorderWidth",t),this.$store.dispatch("rectInfo/settingsRect",{type:"borderWidth",value:t})},changeOpacityFn:function(t){this.$store.commit("rectInfo/setRectOpacity",t),this.$store.dispatch("rectInfo/settingsRect",{type:"opacity",value:t})}}},$e=ke,Le=(i("a01c"),Object(f["a"])($e,qt,Xt,!1,null,"168de6ce",null)),De=Le.exports,Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-body"},[i("div",{staticClass:"info-scroll-box"},[i("div",{staticClass:"info-con"},[i("div",{staticClass:"info-title"},[t._v(" 圆形属性 ")]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-item-title"},[t._v(" 填充颜色 "),i("div",{staticClass:"fr color-picker-box"},[i("ColorPicker",{attrs:{color:t.getFillColor},nativeOn:{change:function(e){return t.changeColorFn(e)}}})],1)]),i("div",{staticClass:"color-select-box"},[i("ColorSelecter",{attrs:{name:"circleFillColor"},nativeOn:{change:function(e){return t.changeColorFn(e)}},model:{value:t.getFillColor,callback:function(e){t.getFillColor=e},expression:"getFillColor"}})],1)]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-item-title"},[t._v(" 边框样式 ")]),i("BorderSelect",{attrs:{name:"circleBorder"},nativeOn:{change:function(e){return t.changeBorderStyleFn(e)}},model:{value:t.getBorderType,callback:function(e){t.getBorderType=e},expression:"getBorderType"}})],1),t.getBorderType?i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-item-title"},[t._v(" 边框颜色 "),i("div",{staticClass:"fr color-picker-box"},[i("ColorPicker",{attrs:{color:t.getBorderColor},nativeOn:{change:function(e){return t.changeBorderColorFn(e)}}})],1)]),i("div",{staticClass:"color-select-box"},[i("ColorSelecter",{attrs:{name:"borderColor"},nativeOn:{change:function(e){return t.changeBorderColorFn(e)}},model:{value:t.getBorderColor,callback:function(e){t.getBorderColor=e},expression:"getBorderColor"}})],1)]):t._e(),t.getBorderType?i("div",{staticClass:"info-item",staticStyle:{"margin-top":"20px"}},[i("BorderWidthSetting",{attrs:{id:"CircleBorderWidthSetting",mtitle:"输入从0到10的值"},on:{mychange:t.changeCircleBorderWidthFn},model:{value:t.getBorderWidth,callback:function(e){t.getBorderWidth=e},expression:"getBorderWidth"}})],1):t._e(),i("div",{staticClass:"info-item",staticStyle:{"margin-top":"20px"}},[i("OpacitySetting",{attrs:{id:"CircleOpacitySetting",mtitle:"输入从0到100的值"},on:{mychange:t.changeOpacityFn},model:{value:t.getCircleOpacity,callback:function(e){t.getCircleOpacity=e},expression:"getCircleOpacity"}})],1)])])])},Ae=[],We={name:"CircleInfo",components:{ColorSelecter:At,ColorPicker:zt,BorderSelect:ee,BorderWidthSetting:pe,OpacitySetting:Te,DelectButton:Be},computed:Object(s["a"])({},Object(r["b"])("circleInfo",["getFillColor","getBorderType","getBorderColor","getBorderWidth","getCircleOpacity"])),methods:{changeColorFn:function(t){this.$store.commit("circleInfo/setFillColor",t.target.value),this.$store.dispatch("circleInfo/settingsCircle",{type:"fill",value:t.target.value})},changeBorderColorFn:function(t){this.$store.commit("circleInfo/setBorderColor",t.target.value),this.$store.dispatch("circleInfo/settingsCircle",{type:"borderColor",value:t.target.value})},changeBorderStyleFn:function(t){this.$store.commit("circleInfo/setBorderType",t.target.value),this.$store.dispatch("info/checkIsShowShadow"),this.$store.dispatch("circleInfo/settingsCircle",{type:"borderType",value:t.target.value})},changeCircleBorderWidthFn:function(t){this.$store.commit("circleInfo/setBorderWidth",t),this.$store.dispatch("circleInfo/settingsCircle",{type:"borderWidth",value:t})},changeOpacityFn:function(t){this.$store.commit("circleInfo/setCircleOpacity",t),this.$store.dispatch("circleInfo/settingsCircle",{type:"opacity",value:t})}}},Ve=We,Ge=(i("3529"),Object(f["a"])(Ve,Ee,Ae,!1,null,"f50bd9f2",null)),Me=Ge.exports,He=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-body"},[i("div",{staticClass:"info-scroll-box"},[i("div",{staticClass:"info-con"},[i("div",{staticClass:"info-title"},[t._v(" 贴图属性 ")]),i("div",{staticClass:"info-item text-overflow"},[i("span",{staticClass:"child-info-title"},[t._v("贴图名称 ：")]),i("span",{staticClass:"child-info-value",attrs:{title:t.getPictureName}},[t._v(t._s(t.getPictureName))])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"child-info-title"},[t._v("贴图尺寸 ：")]),i("span",{staticClass:"child-info-value"},[t._v(t._s(t.getPictureWidth)+"宽 x "+t._s(t.getPictureHeight)+"高")])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"btn",attrs:{title:"提示：双击贴图可替换"},on:{click:t.replacePicture}},[t._v("替换贴图")])]),i("div",{staticClass:"info-item",staticStyle:{"margin-top":"20px"}},[i("OpacitySetting",{attrs:{id:"PictureOpacitySetting",mtitle:"输入从0到100的值"},on:{mychange:t.changeOpacityFn},model:{value:t.getPictureOpacity,callback:function(e){t.getPictureOpacity=e},expression:"getPictureOpacity"}})],1)])])])},ze=[],Re={name:"PictureInfo",components:{OpacitySetting:Te},computed:Object(s["a"])({},Object(r["b"])("pictureInfo",["getPictureName","getPictureWidth","getPictureHeight","getPictureOpacity"])),methods:{changeOpacityFn:function(t){this.$store.commit("pictureInfo/setPictureOpacity",t),this.$store.dispatch("pictureInfo/settingsPicture",{type:"opacity",value:t})},replacePicture:function(){this.$store.dispatch("pictureInfo/replacePicture")}}},Ne=Re,Ue=(i("0a8c"),Object(f["a"])(Ne,He,ze,!1,null,"29e14ac0",null)),Ye=Ue.exports,qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"web-pic-list-box"},[i("div",{ref:"fixedBox",staticClass:"fixed-box",attrs:{id:"fixedBox"}},[i("div",{staticClass:"info-title"},[t._v(" 素材 ")]),i("div",{staticClass:"web-pic-type"},t._l(t.getPicTypes,(function(e){return i("span",{key:e.id,staticClass:"btn",class:{active:e.id==t.getPicType},on:{click:function(i){return t.changePicType(e.id)}}},[t._v(" "+t._s(e.t)+" ")])})),0)]),i("div",{ref:"picbox",staticClass:"web-pic-body",style:{height:t.listH},attrs:{id:"piclist"}},[i("div",{ref:"piclist",staticClass:"web-pic-list",on:{mousewheel:t.onmousewheelFn}},[t._l(t.getPicListData,(function(e){return i("div",{key:e.id,staticClass:"pic-item",on:{click:function(i){return t.addWebPictureFn(e)}}},[i("img",{attrs:{src:e.i,alt:""}}),i("div",{staticClass:"info"},[t._v(t._s(e.t))])])})),i("div",{staticStyle:{width:"100%",heigth:"10px"}})],2),t.getPicListData.length?t._e():i("div",{staticClass:"web-pic-empty"},[i("div",{staticClass:"empty-img"}),i("div",{staticClass:"empty-info"},[t._v("暂无数据"+t._s(t.getIsConnectWeb?"，网络异常":""))])])])])},Xe=[],Ke={name:"WebPictureListBox",data:function(){return{listH:"100px"}},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("webPictureListInfo",["getPicTypes","getPicType","getPicListData","getPicPageIndex","getPicPageCount","getIsConnectWeb"])),Object(r["b"])("webPictureInfo",["getPictureCount"])),mounted:function(){var t=this;setTimeout((function(){t.setListH()}),200),console.log(this.getIsConnectWeb),window.addEventListener("resize",this.setListH)},beforeDestroy:function(){window.removeEventListener("resize",this.setListH)},methods:{changePicType:function(t){var e={type:t,index:1};this.$store.commit("webPictureListInfo/setPicType",t),this.$store.commit("webPictureListInfo/setPicPageIndex",1),this.$store.dispatch("webPictureListInfo/getPictureList",e),this.$refs["picbox"].scrollTop=0},onmousewheelFn:function(t){if(this.getPicPageCount>this.getPicPageIndex&&this.$refs["picbox"].scrollTop>this.$refs["piclist"].offsetHeight-parseInt(this.listH)-10){var e={type:this.getPicType,index:this.getPicPageIndex+1};this.$store.commit("webPictureListInfo/setPicPageIndex",e.index),this.$store.dispatch("webPictureListInfo/getPictureList",e)}},addWebPictureFn:function(t){10==this.getPictureCount?(this.$store.commit("tips/setErrorText","素材已超过10张，添加失败"),this.$store.commit("tips/setIsShowError",!0)):this.$store.dispatch("webPictureInfo/initAddPicture",t)},setListH:function(){var t=this,e=document.getElementById("fixedBox");e?this.listH=document.body.clientHeight-68-e.offsetHeight+"px":(console.log(123123,e),setTimeout((function(){e=document.getElementById("fixedBox"),t.listH=document.body.clientHeight-68-e.offsetHeight+"px"}),200))}}},Je=Ke,Ze=(i("26f2"),Object(f["a"])(Je,qe,Xe,!1,null,"52b5494a",null)),Qe=Ze.exports,ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-body"},[i("div",{staticClass:"info-scroll-box"},[i("div",{staticClass:"info-con"},[i("div",{staticClass:"info-title"},[t._v(" 素材属性 ")]),i("div",{staticClass:"info-item text-overflow"},[i("span",{staticClass:"child-info-title"},[t._v("素材名称 ：")]),i("span",{staticClass:"child-info-value",attrs:{title:t.getPictureName}},[t._v(t._s(t.getPictureName))])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"child-info-title"},[t._v("素材尺寸 ：")]),i("span",{staticClass:"child-info-value"},[t._v(t._s(t.getPictureWidth)+"宽 x "+t._s(t.getPictureHeight)+"高")])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"btn",attrs:{title:"提示：双击素材可替换"},on:{click:t.replacePicture}},[t._v("替换素材")])]),i("div",{staticClass:"info-item",staticStyle:{"margin-top":"20px"}},[i("OpacitySetting",{attrs:{id:"WebPictureOpacitySetting",mtitle:"输入从0到100的值"},on:{mychange:t.changeOpacityFn},model:{value:t.getPictureOpacity,callback:function(e){t.getPictureOpacity=e},expression:"getPictureOpacity"}})],1)])])])},ei=[],ii={name:"WebPictureInfo",components:{OpacitySetting:Te},computed:Object(s["a"])({},Object(r["b"])("webPictureInfo",["getPictureName","getPictureWidth","getPictureHeight","getPictureOpacity"])),methods:{changeOpacityFn:function(t){this.$store.commit("webPictureInfo/setPictureOpacity",t),this.$store.dispatch("webPictureInfo/settingsPicture",{type:"opacity",value:t})},replacePicture:function(){this.$store.dispatch("webPictureInfo/replacePicture")}}},ni=ii,ai=(i("5402"),Object(f["a"])(ni,ti,ei,!1,null,"0226c282",null)),oi=ai.exports,si={name:"InfoBox",data:function(){return{isShowShadow:!0}},components:{GifInfo:_t,TextInfo:Yt,RectInfo:De,CircleInfo:Me,PictureInfo:Ye,WebPictureListBox:Qe,WebPictureInfo:oi,DelectButton:Be},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("info",["getInfoType","getIsShowShadow"])),Object(r["b"])("editor",["getCanvas","getActiveObj","getAnimateObj"])),mounted:function(){this.checkIsShowShadow(),window.addEventListener("resize",this.checkIsShowShadow)},watch:{getInfoType:function(){this.checkIsShowShadow()}},methods:{delectFn:function(){this.$store.dispatch("editor/deleteActiveObject")},checkIsShowShadow:function(){this.$store.dispatch("info/checkIsShowShadow")}}},ri=si,ci=(i("9331"),Object(f["a"])(ri,It,wt,!1,null,null,null)),li=ci.exports,di=function(t,e){var i,n=t,a=!0;return function(){var t=arguments,o=this;return a?(n.apply(o,t),a=!1):!i&&void(i=setTimeout((function(){clearTimeout(i),i=null,n.apply(o,t)}),e||500))}},ui=function(t,e){return t.sort((function(t,i){return i[e]-t[e]}))},fi=function(t){return new Promise((function(e,i){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="blob",n.onload=function(){if(200==this.status){var t=this.response,i=new FileReader;i.onloadend=function(t){e(t.target.result)},i.readAsDataURL(t)}},n.send()}))},pi={name:"EditorBody",components:{EditorCon:xt,InfoBox:li},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])("editor",["getInitDrawing","getIsDrawing"])),Object(r["b"])("info",["getInfoType"])),mounted:function(){window.addEventListener("mousemove",di(this.windowMousemoveFn,160),!0),window.addEventListener("mouseup",this.windowMouseupFn,!0)},methods:{windowMousemoveFn:function(t){if(this.getIsDrawing)switch(this.getInfoType){case"rect":this.$store.dispatch("rectInfo/darwingTemporaryRect",t);break;case"circle":this.$store.dispatch("circleInfo/darwingTemporaryCircle",t);break;default:break}},windowMouseupFn:function(){if(this.getIsDrawing)switch(this.$store.commit("editor/setIsDrawing",!1),this.getInfoType){case"rect":this.$store.dispatch("rectInfo/addRect");break;case"circle":this.$store.dispatch("circleInfo/addCircle");break;default:break}}}},hi=pi,mi=(i("2c38"),Object(f["a"])(hi,w,P,!1,null,"106dd399",null)),gi=mi.exports,vi={name:"Editor",components:{Header:I,EditorBody:gi},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("editor",["getCanvas"])),Object(r["b"])("main",["getViewType"])),Object(r["b"])("editorPlay",["getPlayType"])),created:function(){window.addEventListener("keydown",this.keydownFn),window.addEventListener("keyup",this.keyupFn)},methods:{keydownFn:function(t){switch(t.keyCode){case 46:this.deleteActiveObject();break;case 27:"preview"==this.getViewType&&this.$store.commit("main/setViewType","editing");break;case 32:this.getCanvas.getActiveObject()&&"textbox"!=!this.getCanvas.getActiveObject().type&&this.getCanvas.getActiveObject().isEditing||"inputText"!=document.activeElement.id&&this.$store.commit("editorPlay/setPlayType","pause"==this.getPlayType?"play":"pause");break;case 16:this.$store.commit("editor/setIsKeyDownShift",!0);break;default:break}},keyupFn:function(t){switch(t.keyCode){case 16:this.$store.commit("editor/setIsKeyDownShift",!1);break;default:break}},deleteActiveObject:function(){this.$store.dispatch("editor/deleteActiveObject")}}},bi=vi,yi=(i("7e81"),Object(f["a"])(bi,m,g,!1,null,"328c64b1",null)),Ci=yi.exports,xi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading-box"},[i("div",{staticClass:"loading-con"},[t._m(0),i("div",{staticClass:"loading-text"},[t._v(t._s(t.getLoadingText))]),i("div",{staticClass:"loading-help"},[t._v(t._s(t.helpinfo))])])])},Ii=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo"},[i("div",{staticClass:"logo-gif"})])}],wi={name:"Loading",data:function(){return{helpinfo:"",helpInfos:["","鼠标移入网页GIF动图即可打开编辑","网页GIF动图可从右键菜单打开编辑","本地GIF文件可从右键菜单打开编辑","网络GIF动图可鼠标拖入编辑器打开","本地GIF文件可鼠标拖入编辑器打开","点击右上角GIF按钮快速打开编辑器","使用空格键切换GIF播放/暂停状态","使用ESC键退出GIF预览播放状态","滑动鼠标滚轮左右查看GIF分帧列表","添加贴图后双击贴图可替换本地图片"]}},computed:Object(s["a"])({},Object(r["b"])("main",["getLoadingText"])),created:function(){var t=Math.floor(Math.random()*this.helpInfos.length);this.helpinfo=this.helpInfos[t]}},Pi=wi,Ti=(i("41c7"),Object(f["a"])(Pi,xi,Ii,!1,null,"5e4694bf",null)),Fi=Ti.exports,Oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"error-box",class:{active:t.getIsShowError}},[i("span",{staticClass:"iconfont iconerror"}),i("span",{staticClass:"error-text"},[t._v(t._s(t.getErrorText))])])},Si=[],_i={name:"ErrorBox",computed:Object(s["a"])({},Object(r["b"])("tips",["getErrorText","getIsShowError"])),watch:{getIsShowError:function(t){var e=this;t&&setTimeout((function(){e.$store.commit("tips/setIsShowError",!1)}),2e3)}}},ji=_i,Bi=(i("ade9"),Object(f["a"])(ji,Oi,Si,!1,null,"4517fa4b",null)),ki=Bi.exports,$i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dialog-bg"},[t._v(". "),i("div",{staticClass:"dialog-box"},[i("em",{staticClass:"iconfont iconclosepx1",on:{click:t.closeDialog}}),i("div",{staticClass:"left-section"},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:t.getExportGIFURL,alt:"GIF编辑"},on:{mousedown:function(t){t.preventDefault()}}})]),i("p",{staticClass:"file-size"},[t._v(" 尺寸："+t._s(t.getExportGIFWidth)),i("span",{staticClass:"fenge"},[t._v("x")]),t._v(t._s(t.getExportGIFHeight)),i("span",{staticClass:"fenge"},[t._v("/")]),t._v(" 时长："+t._s(t.getExportGIFTime)),i("span",{staticClass:"fenge"},[t._v("/")]),t._v(" 大小："),i("span",[t._v(t._s(t.getExportGIFSize))])])]),i("div",{staticClass:"right-section"},[i("p",{staticClass:"box-title"},[t._v("导出与保存")]),i("div",{staticClass:"file-contain"},[i("div",{staticClass:"file-input"},[i("span",[t._v("默认路径")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.defaultPath,expression:"defaultPath"}],staticStyle:{color:"#868686"},attrs:{type:"text",readonly:"",title:t.defaultPath},domProps:{value:t.defaultPath},on:{input:function(e){e.target.composing||(t.defaultPath=e.target.value)}}})]),i("em",{staticClass:"iconfile_",attrs:{title:"设置路径"},on:{click:t.changeDefaultPath}})]),i("div",{staticClass:"file-contain"},[i("div",{staticClass:"file-input"},[i("span",[t._v("文件名称")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],attrs:{type:"text",placeholder:"输入文件名称"},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}})]),i("em",[t._v(".gif")])]),i("div",{staticClass:"btn-box"},[i("button",{staticClass:"btn--c btn-blue",on:{click:t.saveFile}},[t._v("保存")]),i("button",{staticClass:"btn--c btn-gray",on:{click:t.saveAsFile}},[t._v("另存为")])])])])])},Li=[],Di=(i("4160"),i("159b"),{name:"ExportBox",data:function(){return{defaultPath:"",fileName:""}},computed:Object(s["a"])({},Object(r["b"])("main",["getExportGIFURL","getExportGIFSize","getExportGIFWidth","getExportGIFHeight","getExportGIFTime"])),created:function(){var t=this,e=new Date;chrome.settingsPrivate.getPref("browser.gif_save_path",(function(e){t.defaultPath=e.value})),this.fileName="GIF图片"+e.getFullYear()+this.formatTime(e.getMonth()+1)+this.formatTime(e.getDate())+this.formatTime(e.getHours())+this.formatTime(e.getMinutes())+this.formatTime(e.getSeconds()),chrome.settingsPrivate.onPrefsChanged.addListener((function(e){e.forEach((function(e){"browser.gif_save_path"==e.key&&(t.defaultPath=e.value)}))})),window.xbpanel={FileSelectionFinished:function(e){e&&t.$store.commit("main/setViewType","export_success")},GifSaveStatus:function(e){e&&t.$store.commit("main/setViewType","export_success")}}},methods:{changeDefaultPath:function(){chrome.send("chooseGifFilePath")},saveFile:function(){chrome.send("saveGif",[this.fileName+".gif",this.getExportGIFURL])},saveAsFile:function(){chrome.send("saveAsGif",[this.fileName+".gif",this.getExportGIFURL])},closeDialog:function(){this.$store.commit("main/setViewType","editing")},formatTime:function(t){var e="";return e=t<10?"0"+t:t,e}}}),Ei=Di,Ai=(i("2aa3"),Object(f["a"])(Ei,$i,Li,!1,null,"1e961143",null)),Wi=Ai.exports,Vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dialog-bg"},[t._v(". "),i("div",{staticClass:"dialog-box"},[i("em",{staticClass:"iconfont iconclosepx1",on:{click:t.closeDialog}}),i("div",{staticClass:"left-section"},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:t.getExportGIFURL,alt:"GIF编辑图",id:"img123"},on:{mousedown:function(t){t.preventDefault()}}})]),i("p",{staticClass:"file-size"},[t._v(" 尺寸："+t._s(t.getExportGIFWidth)),i("span",{staticClass:"fenge"},[t._v("x")]),t._v(t._s(t.getExportGIFHeight)),i("span",{staticClass:"fenge"},[t._v("/")]),t._v(" 时长："+t._s(t.getExportGIFTime)),i("span",{staticClass:"fenge"},[t._v("/")]),t._v(" 大小："),i("span",[t._v(t._s(t.getExportGIFSize))])])]),i("div",{staticClass:"right-section"},[i("p",{staticClass:"box-title"},[t._v("导出与保存")]),t._m(0),i("div",{staticClass:"btn-box"},[i("button",{staticClass:"btn--c btn-blue",on:{click:t.openFile}},[t._v("打开文件")]),i("button",{staticClass:"btn--c btn-gray",on:{click:t.openFolder}},[t._v("打开所在文件夹")]),i("button",{staticClass:"btn--c btn-gray",attrs:{"data-clipboard-action":"cut","data-clipboard-target":"#img123"},on:{click:t.copyFile}},[t._v("复制文件")])])])])])},Gi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"success-pop"},[i("span",{staticClass:"iconfont iconsuccess"}),i("p",{staticClass:"pop-text"},[t._v("保存成功")])])}],Mi={name:"SaveSuccess",computed:Object(s["a"])({},Object(r["b"])("main",["getExportGIFURL","getExportGIFSize","getExportGIFWidth","getExportGIFHeight","getExportGIFTime"])),methods:{closeDialog:function(){this.$store.commit("main/setViewType","editing")},openFile:function(){chrome.send("openGifFile")},openFolder:function(){chrome.send("openGifFileFolder")},copyFile:function(){chrome.send("saveDataToClipboard")}}},Hi=Mi,zi=(i("1f96"),Object(f["a"])(Hi,Vi,Gi,!1,null,"2101e080",null)),Ri=zi.exports,Ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dialog-bg",on:{click:t.closeDialog}},[i("em",{staticClass:"iconfont iconclosepx1",attrs:{title:"关闭"}}),i("img",{attrs:{src:t.getExportGIFURL,alt:"GIF编辑图"},on:{click:function(t){t.stopPropagation(),t.preventDefault()},mousedown:function(t){t.preventDefault()}}})])},Ui=[],Yi={name:"Preview",computed:Object(s["a"])({},Object(r["b"])("main",["getExportGIFURL"])),methods:{closeDialog:function(){this.$store.commit("main/setViewType","editing")}}},qi=Yi,Xi=(i("486b"),Object(f["a"])(qi,Ni,Ui,!1,null,"38f6538c",null)),Ki=Xi.exports,Ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm-box"},[i("div",{staticClass:"confirm-body"},[i("span",{staticClass:"iconfont iconclosepx1",on:{click:t.cancelFn}}),i("div",{staticClass:"confirm-info"},[i("span",{staticClass:"iconfont",class:t.getConfirmType}),t._v(" "+t._s(t.getConfrimText)+" ")]),i("div",{staticClass:"btn-box"},[i("span",{staticClass:"btn--c btn-blue",on:{click:t.confirmFn}},[t._v("确定")]),t.getIsSavePng?t._e():i("span",{staticClass:"btn--c btn-gray",on:{click:t.cancelFn}},[t._v("取消")])])])])},Zi=[],Qi={name:"DYIconfirm",computed:Object(s["a"])({},Object(r["b"])("tips",["getConfrimText","getConfirmType","getConfrimCallback","getIsSavePng"])),methods:{cancelFn:function(){this.$store.commit("tips/setConfrimText",""),this.$store.commit("tips/setConfirmType","icontips"),this.$store.commit("tips/setConfrimCallback",void 0),this.$store.commit("tips/setIsSavePng",!1),this.$store.commit("tips/setIsShowConfirm",!1)},confirmFn:function(){this.$store.commit("tips/setConfrimText",""),this.$store.commit("tips/setConfirmType","icontips"),this.$store.commit("tips/setIsSavePng",!1),this.$store.commit("tips/setIsShowConfirm",!1),"function"==typeof this.getConfrimCallback&&this.getConfrimCallback()}}},tn=Qi,en=(i("5f3a"),Object(f["a"])(tn,Ji,Zi,!1,null,"30668493",null)),nn=en.exports,an=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"massage-box"},[i("span",{staticClass:"iconfont",class:[t.icon,"type"+t.getMassageType]}),i("span",{staticClass:"error-text"},[t._v(t._s(t.getMassageText))])])},on=[],sn={name:"MassageBox",data:function(){return{icons:["iconerror","iconsuccess","icontips"],icon:"iconerror"}},computed:Object(s["a"])({},Object(r["b"])("tips",["getMassageType","getIsShowMassage","getMassageText"])),watch:{getIsShowMassage:function(t){var e=this;t&&setTimeout((function(){e.$store.commit("tips/setIsShowMassage",!1)}),2e3)}}},rn=sn,cn=(i("1bb1"),Object(f["a"])(rn,an,on,!1,null,"166fc2e0",null)),ln=cn.exports,dn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"save-png-rate-box"},[i("div",{staticClass:"save-body"},[i("div",{staticClass:"save-info"},[i("div",{staticClass:"save-title"},[t._v("正在保存")]),i("div",{staticClass:"save-rate"},[i("span",[t._v(t._s(t.getSaveRate))]),i("span",{staticClass:"fen"},[t._v("|")]),i("span",[t._v(t._s(t.getFrameNumber))])])]),i("div",{staticClass:"rate-box"},[i("div",{staticClass:"rate",style:{width:t.rwidth}})])])])},un=[],fn={name:"SavePngRate",computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("gifInfo",["getFrameNumber"])),Object(r["b"])("tips",["getSaveRate"])),{},{rwidth:function(){return parseInt(this.getSaveRate)/parseInt(this.getFrameNumber)*100+"%"}}),created:function(){}},pn=fn,hn=(i("6b4a"),Object(f["a"])(pn,dn,un,!1,null,"4ba67ffc",null)),mn=hn.exports,gn={name:"app",computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])("main",["getViewType"])),Object(r["b"])("tips",["getIsShowConfirm"])),Object(r["b"])("textInfo",["getFamilies"])),components:{Main:h,Editor:Ci,Loading:Fi,ExportBox:Wi,SaveSuccess:Ri,Preview:Ki,ErrorBox:ki,DYIconfirm:nn,MassageBox:ln,SavePngRate:mn},created:function(){this.initData()},mounted:function(){var t=this;window.onbeforeunload=function(){if("main"!=t.getViewType)return"重新加载此网站？"},this.main()},methods:{main:function(){var t=location.search,e="";if(t.split("?url=")[1])e=t.split("?url=")[1];else if(t.split("?blob=")[1]){var i="localhost"==location.host?"blob:http://localhost/":"blob:chrome://gifmaker/";e=i+t.split("?blob=")[1]}this.gourl(e)},gourl:function(t){t?(this.$store.commit("main/setGifUrl",t),this.$store.commit("main/setViewType","loading"),this.$store.commit("main/setLoadingText","正在加载")):this.$store.commit("main/setViewType","main")},initData:function(){this.$store.dispatch("webPictureListInfo/main"),this.$store.dispatch("webPictureListInfo/getApiWebPictureData"),this.$store.dispatch("textInfo/initFont")}}},vn=gn,bn=(i("5c0b"),Object(f["a"])(vn,a,o,!1,null,null,null)),yn=bn.exports,Cn={viewType:"main",gifUrl:"",loadingText:"",exportGIFURL:"",exportGIFSize:"",exportGIFWidth:"",exportGIFHeight:"",exportGIFTime:"",isPreview:!1,isOnGragend:!1},xn={getViewType:function(t){return t.viewType},getGifUrl:function(t){return t.gifUrl},getLoadingText:function(t){return t.loadingText},getExportGIFURL:function(t){return t.exportGIFURL},getExportGIFSize:function(t){return t.exportGIFSize},getExportGIFWidth:function(t){return t.exportGIFWidth},getExportGIFHeight:function(t){return t.exportGIFHeight},getExportGIFTime:function(t){return t.exportGIFTime},getIsPreview:function(t){return t.isPreview},getIsOnGragend:function(t){return t.isOnGragend}},In={setViewType:function(t,e){t.viewType=e},setGifUrl:function(t,e){t.gifUrl=e},setLoadingText:function(t,e){t.loadingText=e},setExportGIFURL:function(t,e){t.exportGIFURL=e},setExportGIFSize:function(t,e){t.exportGIFSize=e},setExportGIFWidth:function(t,e){t.exportGIFWidth=e},setExportGIFHeight:function(t,e){t.exportGIFHeight=e},setExportGIFTime:function(t,e){t.exportGIFTime=e},setIsPreview:function(t,e){t.isPreview=e},setIsOnGragend:function(t,e){t.isOnGragend=e}},wn={},Pn={namespaced:!0,state:Cn,getters:xn,mutations:In,actions:wn},Tn={canvas:null,editIndex:1,activeObj:{text:""},animateObj:{},initDrawing:!1,isDrawing:!1,isKeyDownShift:!1},Fn={getCanvas:function(t){return t.canvas},getEditIndex:function(t){return t.editIndex},getActiveObj:function(t){return t.activeObj},getAnimateObj:function(t){return t.animateObj},getInitDrawing:function(t){return t.initDrawing},getIsDrawing:function(t){return t.isDrawing},getIsKeyDownShift:function(t){return t.isKeyDownShift}},On={setCanvas:function(t,e){t.canvas=e},setEditIndex:function(t,e){t.editIndex=e},setActiveObj:function(t,e){t.activeObj=e},addAnimateObj:function(t,e){t.animateObj[e.id]=e},deleteAnimateObj:function(t,e){delete t.animateObj[e]},setInitDrawing:function(t,e){t.initDrawing=e},setIsDrawing:function(t,e){t.isDrawing=e},setIsKeyDownShift:function(t,e){t.isKeyDownShift=e}},Sn={deleteActiveObject:function(t){var e=t.state,i=t.commit,n=t.rootState,a=e.canvas.getActiveObject();switch(a&&e.animateObj[a.id]&&i("deleteAnimateObj",a.id),a.type){case"image":i("pictureInfo/setPictureCount",n.pictureInfo.pictureCount-1,{root:!0});break;default:break}e.canvas.remove(a),i("info/setInfoType","gif",{root:!0})}},_n={namespaced:!0,state:Tn,getters:Fn,mutations:On,actions:Sn},jn={playType:"pause",playIndex:0,playSpeed:1,speedLeft:"47.5%",playOutTime:30,playMode:0},Bn={getPlayType:function(t){return t.playType},getPlayIndex:function(t){return t.playIndex},getPlaySpeed:function(t){return t.playSpeed},getSpeedLeft:function(t){return t.speedLeft},getPlayOutTime:function(t){return t.playOutTime},getPlayMode:function(t){return t.playMode}},kn={setPlayType:function(t,e){t.playType=e},setPlayIndex:function(t,e){t.playIndex=e},setPlaySpeed:function(t,e){t.playSpeed=e},setSpeedLeft:function(t,e){t.speedLeft=e},setPlayOutTime:function(t,e){t.playOutTime=e},setPlayMode:function(t,e){t.playMode=e}},$n={setPlayIndex:function(t,e){t.dispatch;var i=t.commit;i("setPlayIndex",e)},changePlaySpeed:function(t,e){var i=t.commit;i("setPlaySpeed",e.value),i("setSpeedLeft",e.left)}},Ln={namespaced:!0,state:jn,getters:Bn,mutations:kn,actions:$n},Dn={showFrameList:!0,frameList:[],frameListWidth:0},En={getShowFrameList:function(t){return t.showFrameList},getFrameList:function(t){return t.frameList},getFrameListWidth:function(t){return t.frameListWidth}},An={setShowFrameList:function(t,e){t.showFrameList=e},setFrameList:function(t,e){t.frameList=e},setFrameListWidth:function(t,e){t.frameListWidth=e}},Wn={},Vn={namespaced:!0,state:Dn,getters:En,mutations:An,actions:Wn},Gn={isShowError:!1,errorText:"",isShowConfirm:!1,confirmType:"icontips",confrimText:"",confrimCallback:void 0,massageType:0,isShowMassage:!1,massageText:"先提示一点错误",isSavePng:!1,saveRate:0},Mn={getIsShowError:function(t){return t.isShowError},getErrorText:function(t){return t.errorText},getIsShowConfirm:function(t){return t.isShowConfirm},getConfirmType:function(t){return t.confirmType},getConfrimText:function(t){return t.confrimText},getConfrimCallback:function(t){return t.confrimCallback},getMassageType:function(t){return t.massageType},getIsShowMassage:function(t){return t.isShowMassage},getMassageText:function(t){return t.massageText},getIsSavePng:function(t){return t.isSavePng},getSaveRate:function(t){return t.saveRate}},Hn={setIsShowError:function(t,e){t.isShowError=e},setErrorText:function(t,e){t.errorText=e},setIsShowConfirm:function(t,e){t.isShowConfirm=e},setConfirmType:function(t,e){t.confirmType=e},setConfrimText:function(t,e){t.confrimText=e},setConfrimCallback:function(t,e){t.confrimCallback=e},setMassageType:function(t,e){t.massageType=e},setIsShowMassage:function(t,e){t.isShowMassage=e},setMassageText:function(t,e){t.massageText=e},setIsSavePng:function(t,e){t.isSavePng=e},setSaveRate:function(t,e){t.saveRate=e}},zn={confrimFn:function(t,e){var i=t.commit;i("setConfrimText",e.text),i("setIsShowConfirm",!0),i("setConfrimCallback",e.callback)}},Rn={namespaced:!0,state:Gn,getters:Mn,mutations:Hn,actions:zn},Nn={infoType:"gif",isShowShadow:!0},Un={getInfoType:function(t){return t.infoType},getIsShowShadow:function(t){return t.isShowShadow}},Yn={setInfoType:function(t,e){t.infoType=e},setIsShowShadow:function(t,e){t.isShowShadow=e}},qn={checkIsShowShadow:function(t){var e=t.commit;setTimeout((function(){e("setIsShowShadow",document.querySelector(".info-scroll-box").clientHeight>document.querySelector(".info-content").clientHeight)}),100)}},Xn={namespaced:!0,state:Nn,getters:Un,mutations:Yn,actions:qn},Kn={frameNumber:1,gifWidth:0,gifHeight:0,gifTime:""},Jn={getFrameNumber:function(t){return t.frameNumber},getGifWidth:function(t){return t.gifWidth},getGifHeight:function(t){return t.gifHeight},getGifTime:function(t){return t.gifTime}},Zn={setFrameNumber:function(t,e){t.frameNumber=e},setGifWidth:function(t,e){t.gifWidth=e},setGifHeight:function(t,e){t.gifHeight=e},setGifTime:function(t,e){t.gifTime=e}},Qn={},ta={namespaced:!0,state:Kn,getters:Jn,mutations:Zn,actions:Qn},ea=(i("99af"),i("bc3a")),ia=i.n(ea);ia.a.defaults.timeout=5e3;var na={picUrl:"https://api4.minibai.com/g/1/gfc.api",fontUrl:"https://api4.minibai.com/g/1/gft.api"},aa={getWebPictureData:function(t,e,i){var n={t:t,v:e,p:i};return new Promise((function(t,e){ia.a.get(na.picUrl,{params:n}).then((function(e){t(e)})).catch((function(t){e(t)}))}))},getWebFontData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={t:e,v:t};return new Promise((function(t,e){ia.a.get(na.fontUrl,{params:i}).then((function(e){t(e)})).catch((function(t){e(t)}))}))}},oa=(i("b0c0"),{dataDB:{name:"hDB",version:1,db:null},connectDB:function(){var t=this;return new Promise((function(e,i){var n=indexedDB.open(t.dataDB.name,t.dataDB.version);n.onerror=function(t){i("数据库链接失败",t)},n.onsuccess=function(i){t.dataDB.db=i.target.result,e(t.dataDB.db)},n.onupgradeneeded=function(e){t.dataDB.db=e.target.result,0==t.dataDB.db.objectStoreNames.length&&(t.dataDB.db.createObjectStore("pictureTypeDB",{keyPath:"id"}),t.dataDB.db.createObjectStore("pictureListDB",{keyPath:"id"}),t.dataDB.db.createObjectStore("fontListDB",{keyPath:"id"}))}}))},getListByStore:function(t){var e=this;return new Promise((function(i,n){var a=e.dataDB.db.transaction(t),o=a.objectStore(t),s=o.getAll();s.onerror=function(e){n(t+"数据获取失败！",e)},s.onsuccess=function(t){i(t.target.result)}}))},getDataByIndexName:function(t,e,i){var n=this;return new Promise((function(a,o){var s=n.dataDB.db.transaction(t,"readonly").objectStore(t),r=s.index(i),c=r.get(e);c.onerror=function(t){o("数据获取失败！",t)},c.onsuccess=function(t){a(t.target.result)}}))},addDataByStore:function(t,e){var i=this;return new Promise((function(n,a){var o=i.dataDB.db.transaction(e,"readwrite").objectStore(e).add(t);o.onsuccess=function(t){n(t.target.result)},o.onerror=function(t){a("数据添加失败！",t)}}))},updataByStore:function(t,e){var i=this;return"shortcutDB"==e&&t.id&&delete t.id,new Promise((function(n,a){var o=i.dataDB.db.transaction(e,"readwrite").objectStore(e).put(t);o.onerror=function(t){a(t.target.error)},o.onsuccess=function(t){n()}}))},clearDataByStore:function(t){var e=this;return new Promise((function(i,n){var a=e.dataDB.db.transaction(t,"readwrite").objectStore(t).clear();a.onsuccess=function(){i()},a.onerror=function(t){n("数据清空失败！",t)}}))}}),sa={connectDB:function(){return new Promise((function(t,e){oa.connectDB().then((function(e){t(e)})).catch((function(t){e(t)}))}))},getWebPictureType:function(){return new Promise((function(t,e){var i="pictureTypeDB";oa.getListByStore(i).then((function(e){t(e)}))}))},getWebPictureList:function(){return new Promise((function(t,e){var i="pictureListDB";oa.getListByStore(i).then((function(e){t(e)}))}))},getWebFontList:function(){return new Promise((function(t,e){var i="fontListDB";oa.getListByStore(i).then((function(e){t(e)}))}))},setWebPictureType:function(t){return new Promise((function(e,i){var n="pictureTypeDB";oa.clearDataByStore(n).then((function(){for(var i=t.length,a=function(a){oa.addDataByStore(t[a],n).then((function(){a==i-1&&e()}))},o=0;o<i;o++)a(o)}))}))},setWebPictureList:function(t){return new Promise((function(e,i){var n="pictureListDB";oa.clearDataByStore(n).then((function(){for(var i=t.length,a=function(a){fi(t[a].i).then((function(o){t[a].i=o,oa.addDataByStore(t[a],n).then((function(){a==i-1&&e()}))}))},o=0;o<i;o++)a(o)}))}))},setWebFontList:function(t){return new Promise((function(e,i){var n="fontListDB";oa.clearDataByStore(n).then((function(){for(var i=t.length,a=function(a){fi(t[a].f).then((function(o){t[a].f=o,oa.addDataByStore(t[a],n).then((function(){a==i-1&&e()}))}))},o=0;o<i;o++)a(o)}))}))}},ra={text:"",textColor:"#ffffff",textFamily:"思源黑体",families:[],textAnimate:"none",fontList:[]},ca={getText:function(t){return t.text},getTextColor:function(t){return t.textColor},getTextFamily:function(t){return t.textFamily},getFamilies:function(t){return t.families},getTextAnimate:function(t){return t.textAnimate},getFontList:function(t){return t.fontList}},la={setText:function(t,e){t.text=e},setTextColor:function(t,e){t.textColor=e},setTextFamily:function(t,e){t.textFamily=e},setFamilies:function(t,e){t.families=e},setTextAnimate:function(t,e){t.textAnimate=e},setFontList:function(t,e){t.fontList=e}},da={initFont:function(t){var e=t.dispatch;t.rootState;e("getApiWebFontList")},getWebFontList:function(t){var e=t.commit,i=[{t:"思源黑体"}];e("setFamilies",i),sa.getWebFontList().then((function(t){t.forEach((function(t){var e="@font-face {\n          font-family:'".concat(t.t,"';\n          src: local('").concat(t.t,"'),\n          url('").concat(t.f,"');\n        }"),i=document.createElement("style"),n=document.createTextNode(e);i.appendChild(n);var a=document.getElementsByTagName("head");a[0].appendChild(i)})),t=ui(t,"p"),t.forEach((function(t){i.push(t)})),e("setFamilies",i)}))},getApiWebFontList:function(t){var e=t.dispatch,i=t.rootState,n=localStorage.getItem("webFontV");aa.getWebFontData(n,0).then((function(t){var n=ui(t.data.bd.data,"p");i.webPictureListInfo.isConnectDB?sa.setWebFontList(n).then((function(){e("getWebFontList"),localStorage.setItem("webFontV",t.data.bd.v)})):sa.connectDB().then((function(){sa.setWebFontList(n).then((function(){e("getWebFontList"),localStorage.setItem("webFontV",t.data.bd.v)}))}))})).catch((function(t){304==t.response.status?console.log("%cNo fonts data updates","color: green;"):console.error(t)}))},setText:function(t,e){var i=t.commit;i("setText",e)},addText:function(t){var e=t.state,i=t.rootState,n=t.commit,a=i.editor.canvas,o="text_"+i.editor.editIndex;n("editor/setEditIndex",i.editor.editIndex+1,{root:!0});var s=new fabric.Textbox("",{id:o,type:"textbox",left:parseInt(i.gifInfo.gifWidth/2-90),top:parseInt(i.gifInfo.gifHeight/2-12),oldTop:parseInt(i.gifInfo.gifHeight/2-12),width:180,height:80,fontSize:24,oldFontSize:24,centeredScaling:!0,fill:e.textColor,fontFamily:e.textFamily,borderColor:"rgba(160,160,160,1)",borderDashArray:[4,2],cornerColor:"#00a0e9",cornerStrokeColor:"rgba(160,160,160,1)",cornerStyle:"circle",transparentCorners:!1,cornerSize:7,rotatingPointOffset:30,textAlign:"center",animateType:"none",dirty:!0,selectionBackgroundColor:"rgba(0,0,0,.18)",padding:10});s.on("moving",(function(t){s.oldTop=s.top,s.oldLeft=s.left})),s.on("changed",(function(t){dispatch("setText",s.text)})),a.add(s).setActiveObject(s)}},ua={namespaced:!0,state:ra,getters:ca,mutations:la,actions:da},fa={fillColor:"#ffffff",borderType:"",borderColor:"#ffffff",borderWidth:"3px",rectOpacity:"100%",isDraw:!1,rectClientX:0,rectClientY:0,temporaryRect:{fill:"#000",opacity:.2,stroke:"#ffffff",strokeDashArray:[4,4],strokeWidth:1,top:0,left:0},temporaryRectTop:0,temporaryRectLeft:0,rectCanvaseObj:null},pa={getFillColor:function(t){return t.fillColor},getBorderType:function(t){return t.borderType},getBorderColor:function(t){return t.borderColor},getBorderWidth:function(t){return t.borderWidth},getRectOpacity:function(t){return t.rectOpacity},getIsDraw:function(t){return t.isDraw}},ha={setFillColor:function(t,e){t.fillColor=e},setBorderType:function(t,e){t.borderType=e},setBorderColor:function(t,e){t.borderColor=e},setBorderWidth:function(t,e){t.borderWidth=e},setRectOpacity:function(t,e){t.rectOpacity=e},setIsDraw:function(t,e){t.isDraw=e},setRectClientX:function(t,e){t.rectClientX=e},setRectClientY:function(t,e){t.rectClientY=e},setRectCanvaseObj:function(t,e){t.rectCanvaseObj=e}},ma={initRectAttribute:function(t,e){var i=t.commit;i("setFillColor",e.fill),i("setBorderType",e.borderType),i("setBorderColor",e.stroke),i("setBorderWidth",e.strokeWidth+"px"),i("setRectOpacity",100*e.opacity+"%")},initDrawingRect:function(t){t.rootState},startDrawingRect:function(t,e){var i=t.state,n=t.commit,a=t.rootState,o=a.editor.canvas;n("setRectClientX",e.clientX),n("setRectClientY",e.clientY),i.temporaryRect.top=e.offsetY,i.temporaryRect.left=e.offsetX,n("setRectCanvaseObj",new fabric.Rect(i.temporaryRect)),o.add(i.rectCanvaseObj)},darwingTemporaryRect:function(t,e){var i=t.rootState,n=i.editor.canvas,a=e.clientX-fa.rectClientX,o=i.editor.isKeyDownShift?e.clientY-fa.rectClientY<0?a<0?a:-a:a<0?-a:a:e.clientY-fa.rectClientY;fa.rectCanvaseObj.set({width:a,height:o}),n.renderAll()},addRect:function(t){var e=t.state,i=t.commit,n=t.rootState,a=n.editor.canvas;if(Math.abs(e.rectCanvaseObj.width)<30||Math.abs(e.rectCanvaseObj.height)<30)i("editor/setInitDrawing",!0,{root:!0}),i("editor/setIsDrawing",!1,{root:!0}),i("tips/setErrorText","绘制区域过小，请重新绘制",{root:!0}),i("tips/setIsShowError",!0,{root:!0}),a.remove(e.rectCanvaseObj);else{var o="rect_"+n.editor.editIndex;i("editor/setEditIndex",n.editor.editIndex+1,{root:!0});var s=new fabric.Rect({id:o,type:"rect",borderType:e.borderType,top:e.rectCanvaseObj.height<0?e.rectCanvaseObj.top+e.rectCanvaseObj.height:e.rectCanvaseObj.top,left:e.rectCanvaseObj.width<0?e.rectCanvaseObj.left+e.rectCanvaseObj.width:e.rectCanvaseObj.left,width:Math.abs(e.rectCanvaseObj.width),height:Math.abs(e.rectCanvaseObj.height),fill:e.fillColor,opacity:parseInt(e.rectOpacity)/100,stroke:e.borderType?e.borderColor:"",strokeWidth:parseInt(e.borderWidth),strokeDashArray:"solid"==e.borderType?"":[4,4]});a.remove(e.rectCanvaseObj),e.rectCanvaseObj=null,a.add(s).setActiveObject(s),a.renderAll()}},settingsRect:function(t,e){var i=t.state,n=t.commit,a=t.rootState,o=a.editor.canvas,s=o.getActiveObject();if(s){switch(e.type){case"fill":s.set({fill:e.value});break;case"opacity":s.set({opacity:parseInt(e.value)/100});break;case"borderType":if(""!=e.value){if(s.set({borderType:e.value}),""==i.borderColor?(n("setBorderColor","#ffffff"),s.set({stroke:"#ffffff"})):s.set({stroke:i.borderColor}),"solid"==i.borderType)s.set({strokeDashArray:[]});else if("dashed"==i.borderType){var r=parseInt(i.borderWidth)<3?3:parseInt(i.borderWidth);s.set({strokeDashArray:[Math.round(r),Math.round(r)]})}s.set({strokeWidth:parseInt(i.borderWidth)})}else s.set({stroke:""});break;case"borderWidth":if("dashed"==i.borderType){var c=parseInt(i.borderWidth)<3?3:parseInt(i.borderWidth);s.set({strokeDashArray:[Math.round(c),Math.round(c)]})}s.set({strokeWidth:parseInt(e.value)});break;case"borderColor":s.set({stroke:i.borderType?e.value:""});break;default:break}o.renderAll()}},initRectOptions:function(t){var e=t.commit;e("setFillColor","#ffffff"),e("setBorderType",""),e("setBorderColor","#ffffff"),e("setBorderWidth","3px"),e("setRectOpacity","100%")}},ga={namespaced:!0,state:fa,getters:pa,mutations:ha,actions:ma},va={fillColor:"#ffffff",borderType:"",borderColor:"#ffffff",borderWidth:"3px",circleOpacity:"100%",isDraw:!1,circleClientX:0,circleClientY:0,temporaryCircle:{fill:"#000",opacity:.2,stroke:"#ffffff",strokeDashArray:[4,4],strokeWidth:1,top:0,left:0},temporaryCircleTop:0,temporaryCircleLeft:0,circleCanvaseObj:null},ba={getFillColor:function(t){return t.fillColor},getBorderType:function(t){return t.borderType},getBorderColor:function(t){return t.borderColor},getBorderWidth:function(t){return t.borderWidth},getCircleOpacity:function(t){return t.circleOpacity},getIsDraw:function(t){return t.isDraw}},ya={setFillColor:function(t,e){t.fillColor=e},setBorderType:function(t,e){t.borderType=e},setBorderColor:function(t,e){t.borderColor=e},setBorderWidth:function(t,e){t.borderWidth=e},setCircleOpacity:function(t,e){t.circleOpacity=e},setIsDraw:function(t,e){t.isDraw=e},setCircleClientX:function(t,e){t.circleClientX=e},setCircleClientY:function(t,e){t.circleClientY=e},setCircleCanvaseObj:function(t,e){t.circleCanvaseObj=e}},Ca={initCircleAttribute:function(t,e){var i=t.commit;i("setFillColor",e.fill),i("setBorderType",e.borderType),i("setBorderColor",e.stroke),i("setBorderWidth",e.strokeWidth+"px"),i("setCircleOpacity",100*e.opacity+"%")},initDrawingCircle:function(t){t.rootState},startDrawingCircle:function(t,e){var i=t.state,n=t.commit,a=t.rootState,o=a.editor.canvas;n("setCircleClientX",e.clientX),n("setCircleClientY",e.clientY),i.temporaryCircle.top=e.offsetY,i.temporaryCircle.left=e.offsetX,n("setCircleCanvaseObj",new fabric.Ellipse(i.temporaryCircle)),o.add(i.circleCanvaseObj)},darwingTemporaryCircle:function(t,e){var i=t.state,n=t.rootState,a=n.editor.canvas,o=e.clientX-i.circleClientX,s=e.clientY-i.circleClientY,r=0,c=0;n.editor.isKeyDownShift?(o<0?i.circleCanvaseObj.set({left:i.temporaryCircle.left+o}):i.circleCanvaseObj.set({left:i.temporaryCircle.left}),s<0?i.circleCanvaseObj.set({top:i.temporaryCircle.top+(o<0?o:-o)}):i.circleCanvaseObj.set({top:i.temporaryCircle.top}),c=Math.abs(o/2)):(o<0?i.circleCanvaseObj.set({left:i.temporaryCircle.left+o}):i.circleCanvaseObj.set({left:i.temporaryCircle.left}),s<0?i.circleCanvaseObj.set({top:i.temporaryCircle.top+s}):i.circleCanvaseObj.set({top:i.temporaryCircle.top}),c=Math.abs(s/2)),r=Math.abs(o/2),i.circleCanvaseObj.set({rx:r,ry:c}),a.renderAll()},addCircle:function(t){var e=t.state,i=t.commit,n=t.rootState,a=n.editor.canvas;if(e.circleCanvaseObj.rx<15&&e.circleCanvaseObj.ry<15)i("editor/setInitDrawing",!0,{root:!0}),i("editor/setIsDrawing",!1,{root:!0}),i("tips/setErrorText","绘制区域过小，请重新绘制",{root:!0}),i("tips/setIsShowError",!0,{root:!0}),a.remove(e.circleCanvaseObj);else{var o="circle_"+n.editor.editIndex;i("editor/setEditIndex",n.editor.editIndex+1,{root:!0});var s=new fabric.Ellipse({id:o,type:"circle",borderType:e.borderType,top:e.circleCanvaseObj.height<0?e.circleCanvaseObj.top+e.circleCanvaseObj.height:e.circleCanvaseObj.top,left:e.circleCanvaseObj.left,rx:e.circleCanvaseObj.rx,ry:Math.abs(e.circleCanvaseObj.ry),fill:e.fillColor,opacity:parseInt(e.circleOpacity)/100,stroke:e.borderType?e.borderColor:"",strokeWidth:parseInt(e.borderWidth),strokeDashArray:"solid"==e.borderType?"":[4,4]});a.remove(e.circleCanvaseObj),e.circleCanvaseObj=null,a.add(s).setActiveObject(s),a.renderAll()}},settingsCircle:function(t,e){var i=t.state,n=t.commit,a=t.rootState,o=a.editor.canvas,s=o.getActiveObject();if(s){switch(e.type){case"fill":s.set({fill:e.value});break;case"opacity":s.set({opacity:parseInt(e.value)/100});break;case"borderType":if(""!=e.value){if(s.set({borderType:e.value}),""==i.borderColor?(n("setBorderColor","#ffffff"),s.set({stroke:"#ffffff"})):s.set({stroke:i.borderColor}),"solid"==i.borderType)s.set({strokeDashArray:[]});else if("dashed"==i.borderType){var r=parseInt(i.borderWidth)<3?3:parseInt(i.borderWidth);s.set({strokeDashArray:[r,r]})}s.set({strokeWidth:parseInt(i.borderWidth)})}else s.set({stroke:""});break;case"borderWidth":if("dashed"==i.borderType){var c=parseInt(i.borderWidth)<3?3:parseInt(i.borderWidth);s.set({strokeDashArray:[c,c]})}s.set({strokeWidth:parseInt(e.value)});break;case"borderColor":s.set({stroke:i.borderType?e.value:""});break;default:break}o.renderAll()}},initRectOptions:function(t){var e=t.commit;e("setFillColor","#ffffff"),e("setBorderType",""),e("setBorderColor","#ffffff"),e("setBorderWidth","3px"),e("setCircleOpacity","100%")}},xa={namespaced:!0,state:va,getters:ba,mutations:ya,actions:Ca},Ia={pictureUrl:"",pictureName:"",pictureWidth:0,pictureHeight:0,pictureOpacity:"100%",isReplacePicture:!1,pictureCount:0},wa={getPictureUrl:function(t){return t.pictureUrl},getPictureName:function(t){return t.pictureName},getPictureWidth:function(t){return t.pictureWidth},getPictureHeight:function(t){return t.pictureHeight},getPictureOpacity:function(t){return t.pictureOpacity},getIsReplacePicture:function(t){return t.isReplacePicture},getPictureCount:function(t){return t.pictureCount}},Pa={setPictureUrl:function(t,e){t.pictureUrl=e},setPictureName:function(t,e){t.pictureName=e},setPictureWidth:function(t,e){t.pictureWidth=e},setPictureHeight:function(t,e){t.pictureHeight=e},setPictureOpacity:function(t,e){t.pictureOpacity=e},setIsReplacePicture:function(t,e){t.isReplacePicture=e},setPictureCount:function(t,e){t.pictureCount=e}},Ta={initPictureAttribute:function(t,e){var i=t.commit;i("setPictureName",e.name),i("setPictureWidth",e.width),i("setPictureHeight",e.height),i("setPictureOpacity",100*e.opacity+"%")},replacePicture:function(t){var e=t.commit,i=t.rootState,n=i.editor.canvas,a=n.getActiveObject();"image"==a.type&&(document.getElementById("picInput").value="",document.getElementById("picInput").click(),e("setIsReplacePicture",!0))},initAddPicture:function(t,e){var i=t.commit,n=t.dispatch,a=e[0],o=a.type.toLowerCase();if(e.length>1)i("tips/setErrorText","贴图一次只能添加一张",{root:!0}),i("tips/setIsShowError",!0,{root:!0});else if(a.size>10485760)i("tips/setErrorText","贴图须小于10M，添加失败",{root:!0}),i("tips/setIsShowError",!0,{root:!0});else if("image/png"!=o&&"image/jpg"!=o&&"image/jpeg"!=o&&"image/bmp"!=o&&"image/webp"!=o)i("tips/setErrorText","格式不符，添加失败",{root:!0}),i("tips/setIsShowError",!0,{root:!0});else{i("setPictureName",a.name);var s=new FileReader;s.readAsArrayBuffer(a),s.onload=function(t){var e=t.target.result,i=new Blob([e],{type:"image/png"}),a=URL.createObjectURL(i);n("addPicture",a)}}},addPicture:function(t,e){var i=t.state,n=t.commit,a=t.rootState,o=a.editor.canvas,s="picture_"+a.editor.editIndex;n("editor/setEditIndex",a.editor.editIndex+1,{root:!0});var r=new Image;r.src=e,r.onload=function(){var t=1,e=0,c=0;if(n("setPictureWidth",r.width),n("setPictureHeight",r.height),r.width>a.gifInfo.gifWidth?t=a.gifInfo.gifWidth/r.width:c=(a.gifInfo.gifWidth-r.width)/2,r.height>a.gifInfo.gifHeight){var l=a.gifInfo.gifHeight/r.height;l<t&&(t=l,c=(a.gifInfo.gifWidth-r.width*l)/2),e=(a.gifInfo.gifHeight-r.height*t)/2}else e=(a.gifInfo.gifHeight-r.height)/2;var d=new fabric.Image(r,{id:s,left:c,top:e,imageType:1,name:i.pictureName,scaleX:t,scaleY:t});i.isReplacePicture?o.remove(o.getActiveObject()):n("setPictureCount",i.pictureCount+1),o.add(d).setActiveObject(d),o.renderAll(),n("info/setInfoType","image",{root:!0})}},settingsPicture:function(t,e){t.state;var i=t.rootState,n=i.editor.canvas,a=n.getActiveObject();if("image"==a.type){switch(e.type){case"opacity":a.set({opacity:parseInt(e.value)/100});break;default:break}n.renderAll()}}},Fa={namespaced:!0,state:Ia,getters:wa,mutations:Pa,actions:Ta},Oa={pictureUrl:"",pictureName:"",pictureWidth:0,pictureHeight:0,pictureOpacity:"100%",isReplacePicture:!1,pictureCount:0},Sa={getPictureUrl:function(t){return t.pictureUrl},getPictureName:function(t){return t.pictureName},getPictureWidth:function(t){return t.pictureWidth},getPictureHeight:function(t){return t.pictureHeight},getPictureOpacity:function(t){return t.pictureOpacity},getIsReplacePicture:function(t){return t.isReplacePicture},getPictureCount:function(t){return t.pictureCount}},_a={setPictureUrl:function(t,e){t.pictureUrl=e},setPictureName:function(t,e){t.pictureName=e},setPictureWidth:function(t,e){t.pictureWidth=e},setPictureHeight:function(t,e){t.pictureHeight=e},setPictureOpacity:function(t,e){t.pictureOpacity=e},setIsReplacePicture:function(t,e){t.isReplacePicture=e},setPictureCount:function(t,e){t.pictureCount=e}},ja={initPictureAttribute:function(t,e){var i=t.commit;i("setPictureName",e.name),i("setPictureWidth",e.width),i("setPictureHeight",e.height),i("setPictureOpacity",100*e.opacity+"%")},replacePicture:function(t){var e=t.commit,i=t.rootState,n=i.editor.canvas,a=n.getActiveObject();a.imageType||(e("info/setInfoType","webpicbox",{root:!0}),e("setIsReplacePicture",!0))},initAddPicture:function(t,e){var i=t.commit,n=t.dispatch;i("setPictureName",e.t),n("addPicture",e.i)},addPicture:function(t,e){var i=t.state,n=t.commit,a=t.rootState,o=a.editor.canvas,s="webPicture_"+a.editor.editIndex;n("editor/setEditIndex",a.editor.editIndex+1,{root:!0});var r=new Image;r.src=e,r.onload=function(){var t=1,e=0,c=0;if(n("setPictureWidth",r.width),n("setPictureHeight",r.height),r.width>a.gifInfo.gifWidth?t=a.gifInfo.gifWidth/r.width:c=(a.gifInfo.gifWidth-r.width)/2,r.height>a.gifInfo.gifHeight){var l=a.gifInfo.gifHeight/r.height;l<t&&(t=l,c=(a.gifInfo.gifWidth-r.width*l)/2),e=(a.gifInfo.gifHeight-r.height*t)/2}else e=(a.gifInfo.gifHeight-r.height)/2;var d=new fabric.Image(r,{id:s,left:c,top:e,imageType:0,name:i.pictureName,scaleX:t,scaleY:t});i.isReplacePicture?o.remove(o.getActiveObject()):n("setPictureCount",i.pictureCount+1),o.add(d).setActiveObject(d),o.renderAll(),n("info/setInfoType","webpic",{root:!0})}},settingsPicture:function(t,e){t.state;var i=t.rootState,n=i.editor.canvas,a=n.getActiveObject();if("image"==a.type){switch(e.type){case"opacity":a.set({opacity:parseInt(e.value)/100});break;default:break}n.renderAll()}}},Ba={namespaced:!0,state:Oa,getters:Sa,mutations:_a,actions:ja},ka=(i("4de4"),{isConnectDB:!1,isConnectWeb:!0,picTypes:[],picAllListData:[],picListData:[],picType:"all",picPageIndex:1,picPageCount:1,pageCapacity:16}),$a={getIsConnectWeb:function(t){return t.isConnectWeb},getPicTypes:function(t){return t.picTypes},getPicListData:function(t){return t.picListData},getPicType:function(t){return t.picType},getPicPageIndex:function(t){return t.picPageIndex},getPicPageCount:function(t){return t.picPageCount}},La={setIsConnectDB:function(t,e){t.isConnectDB=e},setIsConnectWeb:function(t,e){t.isConnectWeb=e},setPicTypes:function(t,e){t.picTypes=e},setPicAllListData:function(t,e){t.picAllListData=e},setPicListData:function(t,e){t.picListData=e},setPicType:function(t,e){t.picType=e},setPicPageIndex:function(t,e){t.picPageIndex=e},setPicPageCount:function(t,e){t.picPageCount=e}},Da={main:function(t){var e=this,i=t.commit,n=t.dispatch;sa.connectDB().then((function(){i("setIsConnectDB",!0),console.log("%cDB connect success","color: green;"),n("getPictureTypeDB"),n("getPictureAllListDB"),e.dispatch("textInfo/getWebFontList")}))},getPictureTypeDB:function(t){var e=t.commit;sa.getWebPictureType().then((function(t){var i=ui(t,"p");t.length&&i.unshift({id:"all",p:"1000000000",t:"全部"}),e("setPicTypes",i)}))},getPictureAllListDB:function(t){var e=t.state,i=t.commit,n=t.dispatch;sa.getWebPictureList().then((function(t){i("setPicAllListData",t),n("getPictureList",{type:e.picType,index:e.picPageIndex})}))},getPictureList:function(t,e){var i=t.state,n=t.commit,a=i.picAllListData;"all"!=e.type?(a=i.picAllListData.filter((function(t){return t.gid==e.type})),a=ui(a,"p")):a=ui(a,"ap"),n("setPicPageCount",Math.ceil(a.length/i.pageCapacity));for(var o=[],s=i.pageCapacity*e.index<a.length?i.pageCapacity*e.index:a.length,r=i.pageCapacity*(e.index-1);r<s;r++)o.push(a[r]);1==e.index?n("setPicListData",o):e.index>1&&i.picPageCount>=e.index&&n("setPicListData",i.picListData.concat(o))},getApiWebPictureData:function(t){var e=t.dispatch;e("getApiWebPictureType"),e("getApiWebPictureList")},getApiWebPictureType:function(t){var e=t.state,i=t.commit,n=t.dispatch,a=localStorage.getItem("webPicTypeV");aa.getWebPictureData(0,a).then((function(t){console.log(t);var a=ui(t.data.bd.data,"p");i("setPicTypes",a),e.isConnectDB?sa.setWebPictureType(a).then((function(){n("getPictureTypeDB"),localStorage.setItem("webPicTypeV",t.data.bd.v)})):(console.log("%c居然没链接成功","color: red;"),sa.connectDB().then((function(){sa.setWebPictureType(a).then((function(){n("getPictureTypeDB"),localStorage.setItem("webPicTypeV",t.data.bd.v)}))})))})).catch((function(t){t.response?304==t.response.status&&console.log("%cNo picture type data updates","color: green;"):i("setIsConnectWeb",!1)}))},getApiWebPictureList:function(t){var e=t.state,i=t.commit,n=t.dispatch,a=localStorage.getItem("webPicListV"),o=0,s=0;aa.getWebPictureData(1,a,1).then((function(t){var i=t.data.bd.data;if(o=t.data.bd.ct,s=t.data.bd.ps,s>1)for(var r=1;r<s;r++)aa.getWebPictureData(1,a,r+1).then((function(t){i=i.concat(t.data.bd.data),i.length==o&&(e.isConnectDB?sa.setWebPictureList(i).then((function(){n("getPictureAllListDB",{type:e.picType,index:e.picPageIndex}),localStorage.setItem("webPicListV",t.data.bd.v)})):(console.log("%c居然没链接成功","color: red;"),sa.connectDB().then((function(){sa.setWebPictureType(i).then((function(){n("getPictureAllListDB",{type:e.picType,index:e.picPageIndex}),localStorage.setItem("webPicListV",t.data.bd.v)}))}))))}));else e.isConnectDB?sa.setWebPictureList(i).then((function(){n("getPictureAllListDB",{type:e.picType,index:e.picPageIndex}),localStorage.setItem("webPicListV",res.data.bd.v)})):(console.log("%c居然没链接成功","color: red;"),sa.connectDB().then((function(){sa.setWebPictureType(i).then((function(){n("getPictureAllListDB",{type:e.picType,index:e.picPageIndex}),localStorage.setItem("webPicListV",res.data.bd.v)}))})))})).catch((function(t){304==t.response.status?console.log("%cNo picture list data updates","color: green;"):(console.error(t),i("setIsConnectWeb",!1))}))}},Ea={namespaced:!0,state:ka,getters:$a,mutations:La,actions:Da};n["a"].use(r["a"]);var Aa=new r["a"].Store({modules:{main:Pn,editor:_n,editorPlay:Ln,editorFooter:Vn,info:Xn,gifInfo:ta,textInfo:ua,rectInfo:ga,circleInfo:xa,pictureInfo:Fa,webPictureInfo:Ba,webPictureListInfo:Ea,tips:Rn}});i("6901"),i("275f");n["a"].config.productionTip=!1,new n["a"]({store:Aa,render:function(t){return t(yn)}}).$mount("#app")},5735:function(t,e,i){"use strict";var n=i("3541"),a=i.n(n);a.a},"5bf3":function(t,e,i){},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),a=i.n(n);a.a},"5e53":function(t,e,i){},"5f3a":function(t,e,i){"use strict";var n=i("5e53"),a=i.n(n);a.a},"61dd":function(t,e,i){"use strict";var n=i("1652"),a=i.n(n);a.a},6604:function(t,e,i){},"66b0":function(t,e,i){},6901:function(t,e,i){},"6b4a":function(t,e,i){"use strict";var n=i("cd9c"),a=i.n(n);a.a},"7a56":function(t,e,i){"use strict";var n=i("02e5"),a=i.n(n);a.a},"7daf":function(t,e,i){},"7def":function(t,e,i){},"7e81":function(t,e,i){"use strict";var n=i("e428"),a=i.n(n);a.a},"7ecd":function(t,e,i){},"8c19":function(t,e,i){},9331:function(t,e,i){"use strict";var n=i("ca2a"),a=i.n(n);a.a},"96db":function(t,e,i){},"99f4":function(t,e,i){"use strict";var n=i("c91d"),a=i.n(n);a.a},"9a5d":function(t,e,i){},"9c0c":function(t,e,i){},"9c4a":function(t,e,i){"use strict";var n=i("5bf3"),a=i.n(n);a.a},"9c61":function(t,e,i){},a01c:function(t,e,i){"use strict";var n=i("96db"),a=i.n(n);a.a},a0d1:function(t,e,i){},a1f6:function(t,e,i){"use strict";var n=i("c67c"),a=i.n(n);a.a},ad24:function(t,e,i){"use strict";var n=i("c4ad"),a=i.n(n);a.a},ade9:function(t,e,i){"use strict";var n=i("7daf"),a=i.n(n);a.a},b4c9:function(t,e,i){"use strict";var n=i("4b30"),a=i.n(n);a.a},b57c:function(t,e,i){"use strict";var n=i("35ca"),a=i.n(n);a.a},b780:function(t,e,i){"use strict";var n=i("c125"),a=i.n(n);a.a},c125:function(t,e,i){},c154:function(t,e,i){},c4ad:function(t,e,i){},c67c:function(t,e,i){},c6ee:function(t,e,i){},c825:function(t,e,i){"use strict";var n=i("9c61"),a=i.n(n);a.a},c91d:function(t,e,i){},ca2a:function(t,e,i){},cd9c:function(t,e,i){},d4da:function(t,e,i){},dc18:function(t,e,i){"use strict";var n=i("6604"),a=i.n(n);a.a},de45:function(t,e,i){"use strict";var n=i("5559"),a=i.n(n);a.a},e0d3:function(t,e,i){"use strict";var n=i("ebff"),a=i.n(n);a.a},e428:function(t,e,i){},ebff:function(t,e,i){},ef7a:function(t,e,i){},f1ae:function(t,e,i){"use strict";var n=i("22ca"),a=i.n(n);a.a},f759:function(t,e,i){"use strict";var n=i("c6ee"),a=i.n(n);a.a}});